import"./react.bd8c6b34.js";import{j as m}from"./@emotion.f09edc96.js";var c=function(){return c=Object.assign||function(t){for(var r,e=1,o=arguments.length;e<o;e++){r=arguments[e];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u])}return t},c.apply(this,arguments)};function p(n,t){var r={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&t.indexOf(e)<0&&(r[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(n);o<e.length;o++)t.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(n,e[o])&&(r[e[o]]=n[e[o]]);return r}function h(n){return n}function v(n,t){t===void 0&&(t=h);var r=[],e=!1,o={read:function(){if(e)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:n},useMedium:function(u){var i=t(u,e);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(u){for(e=!0;r.length;){var i=r;r=[],i.forEach(u)}r={push:function(a){return u(a)},filter:function(){return r}}},assignMedium:function(u){e=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(u),i=r}var l=function(){var f=i;i=[],f.forEach(u)},s=function(){return Promise.resolve().then(l)};s(),r={push:function(f){i.push(f),s()},filter:function(f){return i=i.filter(f),r}}}};return o}function O(n){n===void 0&&(n={});var t=v(null);return t.options=c({async:!0,ssr:!1},n),t}var d=function(n){var t=n.sideCar,r=p(n,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var e=t.read();if(!e)throw new Error("Sidecar medium not found");return m(e,{...c({},r)})};d.isSideCarExport=!0;function b(n,t){return n.useMedium(t),d}export{O as c,b as e};
