import{b as w}from"./node-stdlib-browser.6b0e4e0c.js";import{j as dn}from"./keccak.7b8dcb47.js";import{b as Ze}from"./bn.js.b2f94f66.js";import{c as v,g as un}from"./@account-abstraction.16fd1566.js";import{s as hn}from"./@metamask.9b2b42ff.js";import{d as Pt}from"./eth-rpc-errors.b18d9e70.js";import{s as gn}from"./sha.js.9b95ab78.js";import{l as fn}from"./qs.e19a4227.js";import{d as pn}from"./eth-block-tracker.a64f7174.js";import{s as bn}from"./eth-json-rpc-filters.5e06a888.js";import{r as H,a as Pe}from"./preact.d568ab7b.js";import{r as Qe,a as Bt}from"./rxjs.749154aa.js";import{r as Ge}from"./clsx.32166ff1.js";import{b as mn}from"./bind-decorator.25661f9a.js";function wn(t,e){for(var s=0;s<e.length;s++){const n=e[s];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(n,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Wt={},je={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.walletLogo=void 0;const vn=(t,e)=>{let s;switch(t){case"standard":return s=e,`data:image/svg+xml,%3Csvg width='${e}' height='${s}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return s=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${s}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return s=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${s}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return s=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${s}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return s=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${s}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return s=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${s}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return s=e,`data:image/svg+xml,%3Csvg width='${e}' height='${s}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Ke.walletLogo=vn;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.ScopedLocalStorage=void 0;class _n{constructor(e){this.scope=e}setItem(e,s){localStorage.setItem(this.scopedKey(e),s)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),s=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&s.push(i)}s.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Ye.ScopedLocalStorage=_n;var ye={},Se={};Object.defineProperty(Se,"__esModule",{value:!0});Se.EVENTS=void 0;Se.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Me={},h={},Be={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function s(n){return Math.floor(n)}t.IntNumber=s,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(Be);var yn=v&&v.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(h,"__esModule",{value:!0});h.isInIFrame=h.createQrUrl=h.getFavicon=h.range=h.isBigNumber=h.ensureParsedJSONObject=h.ensureBN=h.ensureRegExpString=h.ensureIntNumber=h.ensureBuffer=h.ensureAddressString=h.ensureEvenLengthHexString=h.ensureHexString=h.isHexString=h.prepend0x=h.strip0x=h.has0xPrefix=h.hexStringFromIntNumber=h.intNumberFromHexString=h.bigIntStringFromBN=h.hexStringFromBuffer=h.hexStringToUint8Array=h.uint8ArrayToHex=h.randomBytesHex=void 0;const oe=yn(Ze.exports),En=fn,z=Be,Is=/^[0-9]*$/,As=/^[a-f0-9]*$/;function kn(t){return Ls(crypto.getRandomValues(new Uint8Array(t)))}h.randomBytesHex=kn;function Ls(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}h.uint8ArrayToHex=Ls;function Cn(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}h.hexStringToUint8Array=Cn;function Sn(t,e=!1){const s=t.toString("hex");return(0,z.HexString)(e?"0x"+s:s)}h.hexStringFromBuffer=Sn;function Mn(t){return(0,z.BigIntString)(t.toString(10))}h.bigIntStringFromBN=Mn;function In(t){return(0,z.IntNumber)(new oe.default(Fe(t,!1),16).toNumber())}h.intNumberFromHexString=In;function An(t){return(0,z.HexString)("0x"+new oe.default(t).toString(16))}h.hexStringFromIntNumber=An;function Ft(t){return t.startsWith("0x")||t.startsWith("0X")}h.has0xPrefix=Ft;function Je(t){return Ft(t)?t.slice(2):t}h.strip0x=Je;function xs(t){return Ft(t)?"0x"+t.slice(2):"0x"+t}h.prepend0x=xs;function We(t){if(typeof t!="string")return!1;const e=Je(t).toLowerCase();return As.test(e)}h.isHexString=We;function Ns(t,e=!1){if(typeof t=="string"){const s=Je(t).toLowerCase();if(As.test(s))return(0,z.HexString)(e?"0x"+s:s)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}h.ensureHexString=Ns;function Fe(t,e=!1){let s=Ns(t,!1);return s.length%2===1&&(s=(0,z.HexString)("0"+s)),e?(0,z.HexString)("0x"+s):s}h.ensureEvenLengthHexString=Fe;function Ln(t){if(typeof t=="string"){const e=Je(t).toLowerCase();if(We(e)&&e.length===40)return(0,z.AddressString)(xs(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}h.ensureAddressString=Ln;function xn(t){if(w.Buffer.isBuffer(t))return t;if(typeof t=="string")if(We(t)){const e=Fe(t,!1);return w.Buffer.from(e,"hex")}else return w.Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}h.ensureBuffer=xn;function Ds(t){if(typeof t=="number"&&Number.isInteger(t))return(0,z.IntNumber)(t);if(typeof t=="string"){if(Is.test(t))return(0,z.IntNumber)(Number(t));if(We(t))return(0,z.IntNumber)(new oe.default(Fe(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}h.ensureIntNumber=Ds;function Nn(t){if(t instanceof RegExp)return(0,z.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}h.ensureRegExpString=Nn;function Dn(t){if(t!==null&&(oe.default.isBN(t)||Rs(t)))return new oe.default(t.toString(10),10);if(typeof t=="number")return new oe.default(Ds(t));if(typeof t=="string"){if(Is.test(t))return new oe.default(t,10);if(We(t))return new oe.default(Fe(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}h.ensureBN=Dn;function Rn(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}h.ensureParsedJSONObject=Rn;function Rs(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}h.isBigNumber=Rs;function Tn(t,e){return Array.from({length:e-t},(s,n)=>t+n)}h.range=Tn;function jn(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:s}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${s}${n}`}h.getFavicon=jn;function On(t,e,s,n,i,r){const a=n?"parent-id":"id",o=(0,En.stringify)({[a]:t,secret:e,server:s,v:i,chainId:r});return`${s}/#/link?${o}`}h.createQrUrl=On;function Pn(){try{return window.frameElement!==null}catch{return!1}}h.isInIFrame=Pn;Object.defineProperty(Me,"__esModule",{value:!0});Me.Session=void 0;const ss=gn.exports,ns=h,is="session:id",rs="session:secret",os="session:linked";class Ht{constructor(e,s,n,i){this._storage=e,this._id=s||(0,ns.randomBytesHex)(16),this._secret=n||(0,ns.randomBytesHex)(32),this._key=new ss.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const s=e.getItem(is),n=e.getItem(os),i=e.getItem(rs);return s&&i?new Ht(e,s,i,n==="1"):null}static hash(e){return new ss.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(is,this._id),this._storage.setItem(rs,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(os,this._linked?"1":"0")}}Me.Session=Ht;var K={};Object.defineProperty(K,"__esModule",{value:!0});K.WalletSDKRelayAbstract=K.APP_VERSION_KEY=K.LOCAL_STORAGE_ADDRESSES_KEY=K.WALLET_USER_NAME_KEY=void 0;const as=Pt;K.WALLET_USER_NAME_KEY="walletUsername";K.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";K.APP_VERSION_KEY="AppVersion";class Bn{async makeEthereumJSONRPCRequest(e,s){if(!s)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(s,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw as.ethErrors.rpc.parse({});const i=n,{error:r}=i;if(r)throw(0,as.serializeError)(r);return i})}}K.WalletSDKRelayAbstract=Bn;const Wn=dn,Fn=Ze.exports;function Ts(t){return w.Buffer.allocUnsafe(t).fill(0)}function js(t,e,s){const n=Ts(e);return t=Xe(t),s?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Hn(t,e){return js(t,e,!0)}function Xe(t){if(!w.Buffer.isBuffer(t))if(Array.isArray(t))t=w.Buffer.from(t);else if(typeof t=="string")Os(t)?t=w.Buffer.from(zn(Ps(t)),"hex"):t=w.Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=w.Buffer.allocUnsafe(0);else if(Fn.isBN(t))t=t.toArrayLike(w.Buffer);else if(t.toArray)t=w.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Un(t){return t=Xe(t),"0x"+t.toString("hex")}function $n(t,e){return t=Xe(t),e||(e=256),Wn("keccak"+e).update(t).digest()}function zn(t){return t.length%2?"0"+t:t}function Os(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Ps(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Bs={zeros:Ts,setLength:js,setLengthRight:Hn,isHexString:Os,stripHexPrefix:Ps,toBuffer:Xe,bufferToHex:Un,keccak:$n};const pe=Bs,fe=Ze.exports;function Ws(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function ve(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function cs(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Fs(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function he(t){var e=typeof t;if(e==="string")return pe.isHexString(t)?new fe(pe.stripHexPrefix(t),16):new fe(t,10);if(e==="number")return new fe(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function J(t,e){var s,n,i,r;if(t==="address")return J("uint160",he(e));if(t==="bool")return J("uint8",e?1:0);if(t==="string")return J("bytes",new w.Buffer(e,"utf8"));if(qn(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(s=Fs(t),s!=="dynamic"&&s!==0&&e.length>s)throw new Error("Elements exceed array size: "+s);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(r in e)i.push(J(t,e[r]));if(s==="dynamic"){var a=J("uint256",e.length);i.unshift(a)}return w.Buffer.concat(i)}else{if(t==="bytes")return e=new w.Buffer(e),i=w.Buffer.concat([J("uint256",e.length),e]),e.length%32!==0&&(i=w.Buffer.concat([i,pe.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(s=ve(t),s<1||s>32)throw new Error("Invalid bytes<N> width: "+s);return pe.setLengthRight(e,32)}else if(t.startsWith("uint")){if(s=ve(t),s%8||s<8||s>256)throw new Error("Invalid uint<N> width: "+s);if(n=he(e),n.bitLength()>s)throw new Error("Supplied uint exceeds width: "+s+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(w.Buffer,"be",32)}else if(t.startsWith("int")){if(s=ve(t),s%8||s<8||s>256)throw new Error("Invalid int<N> width: "+s);if(n=he(e),n.bitLength()>s)throw new Error("Supplied int exceeds width: "+s+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(w.Buffer,"be",32)}else if(t.startsWith("ufixed")){if(s=cs(t),n=he(e),n<0)throw new Error("Supplied ufixed is negative");return J("uint256",n.mul(new fe(2).pow(new fe(s[1]))))}else if(t.startsWith("fixed"))return s=cs(t),J("int256",he(e).mul(new fe(2).pow(new fe(s[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Vn(t){return t==="string"||t==="bytes"||Fs(t)==="dynamic"}function qn(t){return t.lastIndexOf("]")===t.length-1}function Zn(t,e){var s=[],n=[],i=32*t.length;for(var r in t){var a=Ws(t[r]),o=e[r],c=J(a,o);Vn(a)?(s.push(J("uint256",i)),n.push(c),i+=c.length):s.push(c)}return w.Buffer.concat(s.concat(n))}function Hs(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var s,n,i=[],r=0;r<t.length;r++){var a=Ws(t[r]),o=e[r];if(a==="bytes")i.push(o);else if(a==="string")i.push(new w.Buffer(o,"utf8"));else if(a==="bool")i.push(new w.Buffer(o?"01":"00","hex"));else if(a==="address")i.push(pe.setLength(o,20));else if(a.startsWith("bytes")){if(s=ve(a),s<1||s>32)throw new Error("Invalid bytes<N> width: "+s);i.push(pe.setLengthRight(o,s))}else if(a.startsWith("uint")){if(s=ve(a),s%8||s<8||s>256)throw new Error("Invalid uint<N> width: "+s);if(n=he(o),n.bitLength()>s)throw new Error("Supplied uint exceeds width: "+s+" vs "+n.bitLength());i.push(n.toArrayLike(w.Buffer,"be",s/8))}else if(a.startsWith("int")){if(s=ve(a),s%8||s<8||s>256)throw new Error("Invalid int<N> width: "+s);if(n=he(o),n.bitLength()>s)throw new Error("Supplied int exceeds width: "+s+" vs "+n.bitLength());i.push(n.toTwos(s).toArrayLike(w.Buffer,"be",s/8))}else throw new Error("Unsupported or invalid type: "+a)}return w.Buffer.concat(i)}function Qn(t,e){return pe.keccak(Hs(t,e))}var Gn={rawEncode:Zn,solidityPack:Hs,soliditySHA3:Qn};const Q=Bs,Te=Gn,Us={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},St={encodeData(t,e,s,n=!0){const i=["bytes32"],r=[this.hashType(t,s)];if(n){const a=(o,c,l)=>{if(s[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Q.keccak(this.encodeData(c,l,s,n))];if(l===void 0)throw new Error(`missing value for field ${o} of type ${c}`);if(c==="bytes")return["bytes32",Q.keccak(l)];if(c==="string")return typeof l=="string"&&(l=w.Buffer.from(l,"utf8")),["bytes32",Q.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const d=c.slice(0,c.lastIndexOf("[")),u=l.map(p=>a(o,d,p));return["bytes32",Q.keccak(Te.rawEncode(u.map(([p])=>p),u.map(([,p])=>p)))]}return[c,l]};for(const o of s[t]){const[c,l]=a(o.name,o.type,e[o.name]);i.push(c),r.push(l)}}else for(const a of s[t]){let o=e[a.name];if(o!==void 0)if(a.type==="bytes")i.push("bytes32"),o=Q.keccak(o),r.push(o);else if(a.type==="string")i.push("bytes32"),typeof o=="string"&&(o=w.Buffer.from(o,"utf8")),o=Q.keccak(o),r.push(o);else if(s[a.type]!==void 0)i.push("bytes32"),o=Q.keccak(this.encodeData(a.type,o,s,n)),r.push(o);else{if(a.type.lastIndexOf("]")===a.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(a.type),r.push(o)}}return Te.rawEncode(i,r)},encodeType(t,e){let s="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);s+=i+"("+e[i].map(({name:a,type:o})=>o+" "+a).join(",")+")"}return s},findTypeDependencies(t,e,s=[]){if(t=t.match(/^\w*/)[0],s.includes(t)||e[t]===void 0)return s;s.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,s))!s.includes(i)&&s.push(i);return s},hashStruct(t,e,s,n=!0){return Q.keccak(this.encodeData(t,e,s,n))},hashType(t,e){return Q.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const s in Us.properties)t[s]&&(e[s]=t[s]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const s=this.sanitizeData(t),n=[w.Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",s.domain,s.types,e)),s.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(s.primaryType,s.message,s.types,e)),Q.keccak(w.Buffer.concat(n))}};var Kn={TYPED_MESSAGE_SCHEMA:Us,TypedDataUtils:St,hashForSignTypedDataLegacy:function(t){return Yn(t.data)},hashForSignTypedData_v3:function(t){return St.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return St.hash(t.data)}};function Yn(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const s=t.map(function(r){return r.type==="bytes"?Q.toBuffer(r.value):r.value}),n=t.map(function(r){return r.type}),i=t.map(function(r){if(!r.name)throw e;return r.type+" "+r.name});return Te.soliditySHA3(["bytes32","bytes32"],[Te.soliditySHA3(new Array(t.length).fill("string"),i),Te.soliditySHA3(n,s)])}var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.filterFromParam=Ee.FilterPolyfill=void 0;const we=Be,O=h,Jn=5*60*1e3,ge={jsonrpc:"2.0",id:0};class Xn{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,we.IntNumber)(1),this.provider=e}async newFilter(e){const s=$s(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,s.fromBlock);return console.log(`Installing new log filter(${n}):`,s,"initial cursor position:",i),this.logFilters.set(n,s),this.setFilterTimeout(n),(0,O.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),s=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,s),this.blockFilters.add(e),this.setFilterTimeout(e),(0,O.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),s=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,s),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,O.hexStringFromIntNumber)(e)}uninstallFilter(e){const s=(0,O.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${s})`),this.deleteFilter(s),!0}getFilterChanges(e){const s=(0,O.intNumberFromHexString)(e);return this.timeouts.has(s)&&this.setFilterTimeout(s),this.logFilters.has(s)?this.getLogFilterChanges(s):this.blockFilters.has(s)?this.getBlockFilterChanges(s):this.pendingTransactionFilters.has(s)?this.getPendingTransactionFilterChanges(s):Promise.resolve(He())}async getFilterLogs(e){const s=(0,O.intNumberFromHexString)(e),n=this.logFilters.get(s);return n?this.sendAsyncPromise(Object.assign(Object.assign({},ge),{method:"eth_getLogs",params:[ls(n)]})):He()}makeFilterId(){return(0,we.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((s,n)=>{this.provider.sendAsync(e,(i,r)=>{if(i)return n(i);if(Array.isArray(r)||r==null)return n(new Error(`unexpected response received: ${JSON.stringify(r)}`));s(r)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const s=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!s)return He();const i=await this.getCurrentBlockHeight(),r=s.toBlock==="latest"?i:s.toBlock;if(n>i||n>s.toBlock)return Ue();console.log(`Fetching logs from ${n} to ${r} for filter ${e}`);const a=await this.sendAsyncPromise(Object.assign(Object.assign({},ge),{method:"eth_getLogs",params:[ls(Object.assign(Object.assign({},s),{fromBlock:n,toBlock:r}))]}));if(Array.isArray(a.result)){const o=a.result.map(l=>(0,O.intNumberFromHexString)(l.blockNumber||"0x0")),c=Math.max(...o);if(c&&c>n){const l=(0,we.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${l}`),this.cursors.set(e,l)}}return a}async getBlockFilterChanges(e){const s=this.cursors.get(e);if(!s)return He();const n=await this.getCurrentBlockHeight();if(s>n)return Ue();console.log(`Fetching blocks from ${s} to ${n} for filter (${e})`);const i=(await Promise.all((0,O.range)(s,n+1).map(a=>this.getBlockHashByNumber((0,we.IntNumber)(a))))).filter(a=>!!a),r=(0,we.IntNumber)(s+i.length);return console.log(`Moving cursor position for filter (${e}) from ${s} to ${r}`),this.cursors.set(e,r),Object.assign(Object.assign({},ge),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Ue())}async setInitialCursorPosition(e,s){const n=await this.getCurrentBlockHeight(),i=typeof s=="number"&&s>n?s:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const s=this.timeouts.get(e);s&&window.clearTimeout(s);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Jn);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},ge),{method:"eth_blockNumber",params:[]}));return(0,O.intNumberFromHexString)((0,O.ensureHexString)(e))}async getBlockHashByNumber(e){const s=await this.sendAsyncPromise(Object.assign(Object.assign({},ge),{method:"eth_getBlockByNumber",params:[(0,O.hexStringFromIntNumber)(e),!1]}));return s.result&&typeof s.result.hash=="string"?(0,O.ensureHexString)(s.result.hash):null}}Ee.FilterPolyfill=Xn;function $s(t){return{fromBlock:ds(t.fromBlock),toBlock:ds(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Ee.filterFromParam=$s;function ls(t){const e={fromBlock:us(t.fromBlock),toBlock:us(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function ds(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,we.IntNumber)(0);if((0,O.isHexString)(t))return(0,O.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function us(t){return t==="latest"?t:(0,O.hexStringFromIntNumber)(t)}function He(){return Object.assign(Object.assign({},ge),{error:{code:-32e3,message:"filter not found"}})}function Ue(){return Object.assign(Object.assign({},ge),{result:[]})}var zs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(zs);var et={};Object.defineProperty(et,"__esModule",{value:!0});et.SubscriptionManager=void 0;const ei=pn,ti=bn,hs=()=>{};class si{constructor(e){const s=new ei.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=ti({blockTracker:s,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const s={};return await this.subscriptionMiddleware(e,s,hs,hs),s}destroy(){this.subscriptionMiddleware.destroy()}}et.SubscriptionManager=si;var Ut=v&&v.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ye,"__esModule",{value:!0});ye.CoinbaseWalletProvider=void 0;const ni=Ut(hn),ii=Ut(Ze.exports),R=Pt,Mt=Se,gs=Me,fs=K,f=h,It=Ut(Kn),ri=Ee,m=zs,oi=et,ps="DefaultChainId",bs="DefaultJsonRpcUrl";class ai extends ni.default{constructor(e){var s,n;super(),this._filterPolyfill=new ri.FilterPolyfill(this),this._subscriptionManager=new oi.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(s=e.overrideIsCoinbaseWallet)!==null&&s!==void 0?s:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),r=(0,f.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:r});const a=this._storage.getItem(fs.LOCAL_STORAGE_ADDRESSES_KEY);if(a){const o=a.split(" ");o[0]!==""&&(this._addresses=o.map(c=>(0,f.ensureAddressString)(c)),this.emit("accountsChanged",o))}this._subscriptionManager.events.on("notification",o=>{this.emit("message",{type:o.method,data:o.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",o=>{var c;if(!(o.origin!==location.origin||o.source!==window)&&o.data.type==="walletLinkMessage"){if(o.data.data.action==="defaultChainChanged"||o.data.data.action==="dappChainSwitched"){const l=o.data.data.chainId,d=(c=o.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(d,Number(l))}o.data.data.action==="addressChanged"&&this._setAddresses([o.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,f.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(bs))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(bs,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,s){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=s,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,s){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(ps,s.toString(10)),((0,f.ensureIntNumber)(s)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,s,n,i,r,a){return!!(await(await this.initializeRelay()).watchAsset(e,s,n,i,r,a==null?void 0:a.toString()).promise).result}async addEthereumChain(e,s,n,i,r,a){var o,c;if((0,f.ensureIntNumber)(e)===this.getChainId())return!1;const l=await this.initializeRelay(),d=l.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!d&&await l.requestEthereumAccounts().promise;const u=await l.addEthereumChain(e.toString(),s,r,n,i,a).promise;return((o=u.result)===null||o===void 0?void 0:o.isApproved)===!0&&this.updateProviderInfo(s[0],e),((c=u.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw R.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,s){this.initializeRelay().then(n=>n.setAppInfo(e,s))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Mt.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?gs.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(m.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,s){if(typeof e=="string"){const i=e,r=Array.isArray(s)?s:s!==void 0?[s]:[],a={jsonrpc:"2.0",id:0,method:i,params:r};return this._sendRequestAsync(a).then(o=>o.result)}if(typeof s=="function"){const i=e,r=s;return this._sendAsync(i,r)}if(Array.isArray(e))return e.map(r=>this._sendRequest(r));const n=e;return this._sendRequest(n)}async sendAsync(e,s){if(typeof s!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=s;this._sendMultipleRequestsAsync(e).then(r=>i(null,r)).catch(r=>i(r,null));return}const n=s;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw R.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:s,params:n}=e;if(typeof s!="string"||s.length===0)throw R.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw R.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,r=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:s,params:i,jsonrpc:"2.0",id:r})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,f.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,s){const i=await(await this.initializeRelay()).genericRequest(e,s).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const s={jsonrpc:"2.0",id:e.id},{method:n}=e;if(s.result=this._handleSynchronousMethods(e),s.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return s}_setAddresses(e,s){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,f.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!s||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(fs.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((s,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return s({jsonrpc:"2.0",id:e.id,result:i});const r=this._handleAsynchronousFilterMethods(e);if(r!==void 0){r.then(o=>s(Object.assign(Object.assign({},o),{id:e.id}))).catch(o=>n(o));return}const a=this._handleSubscriptionMethods(e);if(a!==void 0){a.then(o=>s({jsonrpc:"2.0",id:e.id,result:o.result})).catch(o=>n(o));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&s(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(s=>this._sendRequestAsync(s)))}_handleSynchronousMethods(e){const{method:s}=e,n=e.params||[];switch(s){case m.JSONRPCMethod.eth_accounts:return this._eth_accounts();case m.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case m.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case m.JSONRPCMethod.net_version:return this._net_version();case m.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:s}=e,n=e.params||[];switch(s){case m.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case m.JSONRPCMethod.eth_sign:return this._eth_sign(n);case m.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case m.JSONRPCMethod.personal_sign:return this._personal_sign(n);case m.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case m.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case m.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case m.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case m.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case m.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case m.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case m.JSONRPCMethod.eth_signTypedData_v4:case m.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case m.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case m.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case m.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case m.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:s}=e,n=e.params||[];switch(s){case m.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case m.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case m.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case m.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case m.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case m.JSONRPCMethod.eth_subscribe:case m.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const s=(0,f.ensureAddressString)(e);return this._addresses.map(i=>(0,f.ensureAddressString)(i)).includes(s)}catch{}return!1}_ensureKnownAddress(e){var s;if(!this._isKnownAddress(e))throw(s=this.diagnostic)===null||s===void 0||s.log(Mt.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const s=e.from?(0,f.ensureAddressString)(e.from):this.selectedAddress;if(!s)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(s);const n=e.to?(0,f.ensureAddressString)(e.to):null,i=e.value!=null?(0,f.ensureBN)(e.value):new ii.default(0),r=e.data?(0,f.ensureBuffer)(e.data):w.Buffer.alloc(0),a=e.nonce!=null?(0,f.ensureIntNumber)(e.nonce):null,o=e.gasPrice!=null?(0,f.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,f.ensureBN)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,f.ensureBN)(e.maxPriorityFeePerGas):null,d=e.gas!=null?(0,f.ensureBN)(e.gas):null,u=this.getChainId();return{fromAddress:s,toAddress:n,weiValue:i,data:r,nonce:a,gasPriceInWei:o,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:d,chainId:u}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw R.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw R.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,s,n,i){this._ensureKnownAddress(s);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,s,n,i).promise).result}}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?R.ethErrors.provider.userRejectedRequest("User denied message signature"):r}}async _ethereumAddressFromSignedMessage(e,s,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,s,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,f.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(ps);if(!e)return(0,f.ensureIntNumber)(this._chainIdFromOpts);const s=parseInt(e,10);return(0,f.ensureIntNumber)(s)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Mt.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?gs.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let s;try{s=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?R.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!s.result)throw new Error("accounts received is empty");return this._setAddresses(s.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const s=(0,f.ensureAddressString)(e[0]),n=(0,f.ensureBuffer)(e[1]);return this._signEthereumMessage(n,s,!1)}_eth_ecRecover(e){const s=(0,f.ensureBuffer)(e[0]),n=(0,f.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(s,n,!1)}_personal_sign(e){this._requireAuthorization();const s=(0,f.ensureBuffer)(e[0]),n=(0,f.ensureAddressString)(e[1]);return this._signEthereumMessage(s,n,!0)}_personal_ecRecover(e){const s=(0,f.ensureBuffer)(e[0]),n=(0,f.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(s,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const s=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(s).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?R.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const s=(0,f.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(s,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const s=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(s).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?R.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const s=(0,f.ensureParsedJSONObject)(e[0]),n=(0,f.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=It.default.hashForSignTypedDataLegacy({data:s}),r=JSON.stringify(s,null,2);return this._signEthereumMessage(i,n,!1,r)}async _eth_signTypedData_v3(e){this._requireAuthorization();const s=(0,f.ensureAddressString)(e[0]),n=(0,f.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(s);const i=It.default.hashForSignTypedData_v3({data:n}),r=JSON.stringify(n,null,2);return this._signEthereumMessage(i,s,!1,r)}async _eth_signTypedData_v4(e){this._requireAuthorization();const s=(0,f.ensureAddressString)(e[0]),n=(0,f.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(s);const i=It.default.hashForSignTypedData_v4({data:n}),r=JSON.stringify(n,null,2);return this._signEthereumMessage(i,s,!1,r)}async _cbwallet_arbitrary(e){const s=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof s!="object"||s===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(s,n)}}async _wallet_addEthereumChain(e){var s,n,i,r;const a=e[0];if(((s=a.rpcUrls)===null||s===void 0?void 0:s.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!a.chainName||a.chainName.trim()==="")throw R.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!a.nativeCurrency)throw R.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const o=parseInt(a.chainId,16);return await this.addEthereumChain(o,(n=a.rpcUrls)!==null&&n!==void 0?n:[],(i=a.blockExplorerUrls)!==null&&i!==void 0?i:[],a.chainName,(r=a.iconUrls)!==null&&r!==void 0?r:[],a.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const s=e[0];return await this.switchEthereumChain(parseInt(s.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const s=Array.isArray(e)?e[0]:e;if(!s.type)throw R.ethErrors.rpc.invalidParams({message:"Type is required"});if((s==null?void 0:s.type)!=="ERC20")throw R.ethErrors.rpc.invalidParams({message:`Asset of type '${s.type}' is not supported`});if(!(s!=null&&s.options))throw R.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(s!=null&&s.options.address))throw R.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:r,image:a,decimals:o}=s.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(s.type,i,r,o,a,n)}}_eth_uninstallFilter(e){const s=(0,f.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(s)}async _eth_newFilter(e){const s=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(s)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const s=(0,f.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(s)}_eth_getFilterLogs(e){const s=(0,f.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(s)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((s,n)=>this._setAddresses(s,n)),e.setChainCallback((s,n)=>{this.updateProviderInfo(n,parseInt(s,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}ye.CoinbaseWalletProvider=ai;var tt={},st={},nt={},ee={},it={};Object.defineProperty(it,"__esModule",{value:!0});it.LIB_VERSION=void 0;it.LIB_VERSION="3.6.6";var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.CloseIcon=void 0;const ms=H;function ci(t){return(0,ms.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,ms.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}rt.CloseIcon=ci;var $t={};Object.defineProperty($t,"__esModule",{value:!0});$t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.QRCodeIcon=void 0;const Y=H;function li(t){return(0,Y.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Y.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,Y.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,Y.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,Y.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,Y.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,Y.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,Y.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,Y.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,Y.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}ot.QRCodeIcon=li;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});const di=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;Vt.default=di;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var at={};Object.defineProperty(at,"__esModule",{value:!0});at.StatusDotIcon=void 0;const ws=H;function ui(t){return(0,ws.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,ws.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}at.StatusDotIcon=ui;var ct={};function Vs(t){this.mode=F.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,s=this.data.length;e<s;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Vs.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,s=this.parsedData.length;e<s;e++)t.put(this.parsedData[e],8)}};function te(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}te.prototype={addData:function(t){var e=new Vs(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++){this.modules[s]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[s][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=te.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var s=-1;s<=7;s++)if(!(t+s<=-1||this.moduleCount<=t+s))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=s&&s<=6&&(n==0||n==6)||0<=n&&n<=6&&(s==0||s==6)||2<=s&&s<=4&&2<=n&&n<=4?this.modules[t+s][e+n]=!0:this.modules[t+s][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,s=0;s<8;s++){this.makeImpl(!0,s);var n=E.getLostPoint(this);(s==0||t>n)&&(t=n,e=s)}return e},createMovieClip:function(t,e,s){var n=t.createEmptyMovieClip(e,s),i=1;this.make();for(var r=0;r<this.modules.length;r++)for(var a=r*i,o=0;o<this.modules[r].length;o++){var c=o*i,l=this.modules[r][o];l&&(n.beginFill(0,100),n.moveTo(c,a),n.lineTo(c+i,a),n.lineTo(c+i,a+i),n.lineTo(c,a+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=E.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var s=0;s<t.length;s++){var n=t[e],i=t[s];if(this.modules[n][i]==null)for(var r=-2;r<=2;r++)for(var a=-2;a<=2;a++)r==-2||r==2||a==-2||a==2||r==0&&a==0?this.modules[n+r][i+a]=!0:this.modules[n+r][i+a]=!1}},setupTypeNumber:function(t){for(var e=E.getBCHTypeNumber(this.typeNumber),s=0;s<18;s++){var n=!t&&(e>>s&1)==1;this.modules[Math.floor(s/3)][s%3+this.moduleCount-8-3]=n}for(var s=0;s<18;s++){var n=!t&&(e>>s&1)==1;this.modules[s%3+this.moduleCount-8-3][Math.floor(s/3)]=n}},setupTypeInfo:function(t,e){for(var s=this.errorCorrectLevel<<3|e,n=E.getBCHTypeInfo(s),i=0;i<15;i++){var r=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=r:i<8?this.modules[i+1][8]=r:this.modules[this.moduleCount-15+i][8]=r}for(var i=0;i<15;i++){var r=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=r:i<9?this.modules[8][15-i-1+1]=r:this.modules[8][15-i-1]=r}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var s=-1,n=this.moduleCount-1,i=7,r=0,a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(var o=0;o<2;o++)if(this.modules[n][a-o]==null){var c=!1;r<t.length&&(c=(t[r]>>>i&1)==1);var l=E.getMask(e,n,a-o);l&&(c=!c),this.modules[n][a-o]=c,i--,i==-1&&(r++,i=7)}if(n+=s,n<0||this.moduleCount<=n){n-=s,s=-s;break}}}};te.PAD0=236;te.PAD1=17;te.createData=function(t,e,s){for(var n=X.getRSBlocks(t,e),i=new qs,r=0;r<s.length;r++){var a=s[r];i.put(a.mode,4),i.put(a.getLength(),E.getLengthInBits(a.mode,t)),a.write(i)}for(var o=0,r=0;r<n.length;r++)o+=n[r].dataCount;if(i.getLengthInBits()>o*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+o*8+")");for(i.getLengthInBits()+4<=o*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=o*8||(i.put(te.PAD0,8),i.getLengthInBits()>=o*8));)i.put(te.PAD1,8);return te.createBytes(i,n)};te.createBytes=function(t,e){for(var s=0,n=0,i=0,r=new Array(e.length),a=new Array(e.length),o=0;o<e.length;o++){var c=e[o].dataCount,l=e[o].totalCount-c;n=Math.max(n,c),i=Math.max(i,l),r[o]=new Array(c);for(var d=0;d<r[o].length;d++)r[o][d]=255&t.buffer[d+s];s+=c;var u=E.getErrorCorrectPolynomial(l),p=new _e(r[o],u.getLength()-1),k=p.mod(u);a[o]=new Array(u.getLength()-1);for(var d=0;d<a[o].length;d++){var B=d+k.getLength()-a[o].length;a[o][d]=B>=0?k.get(B):0}}for(var M=0,d=0;d<e.length;d++)M+=e[d].totalCount;for(var C=new Array(M),P=0,d=0;d<n;d++)for(var o=0;o<e.length;o++)d<r[o].length&&(C[P++]=r[o][d]);for(var d=0;d<i;d++)for(var o=0;o<e.length;o++)d<a[o].length&&(C[P++]=a[o][d]);return C};var F={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},ae={L:1,M:0,Q:3,H:2},ne={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},E={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;E.getBCHDigit(e)-E.getBCHDigit(E.G15)>=0;)e^=E.G15<<E.getBCHDigit(e)-E.getBCHDigit(E.G15);return(t<<10|e)^E.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;E.getBCHDigit(e)-E.getBCHDigit(E.G18)>=0;)e^=E.G18<<E.getBCHDigit(e)-E.getBCHDigit(E.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return E.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,s){switch(t){case ne.PATTERN000:return(e+s)%2==0;case ne.PATTERN001:return e%2==0;case ne.PATTERN010:return s%3==0;case ne.PATTERN011:return(e+s)%3==0;case ne.PATTERN100:return(Math.floor(e/2)+Math.floor(s/3))%2==0;case ne.PATTERN101:return e*s%2+e*s%3==0;case ne.PATTERN110:return(e*s%2+e*s%3)%2==0;case ne.PATTERN111:return(e*s%3+(e+s)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new _e([1],0),s=0;s<t;s++)e=e.multiply(new _e([1,L.gexp(s)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case F.MODE_NUMBER:return 10;case F.MODE_ALPHA_NUM:return 9;case F.MODE_8BIT_BYTE:return 8;case F.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case F.MODE_NUMBER:return 12;case F.MODE_ALPHA_NUM:return 11;case F.MODE_8BIT_BYTE:return 16;case F.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case F.MODE_NUMBER:return 14;case F.MODE_ALPHA_NUM:return 13;case F.MODE_8BIT_BYTE:return 16;case F.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),s=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var r=0,a=t.isDark(n,i),o=-1;o<=1;o++)if(!(n+o<0||e<=n+o))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||o==0&&c==0||a==t.isDark(n+o,i+c)&&r++;r>5&&(s+=3+r-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(s+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(s+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(s+=40);for(var d=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&d++;var u=Math.abs(100*d/e/e-50)/5;return s+=u*10,s}},L={glog:function(t){if(t<1)throw new Error("glog("+t+")");return L.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return L.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var x=0;x<8;x++)L.EXP_TABLE[x]=1<<x;for(var x=8;x<256;x++)L.EXP_TABLE[x]=L.EXP_TABLE[x-4]^L.EXP_TABLE[x-5]^L.EXP_TABLE[x-6]^L.EXP_TABLE[x-8];for(var x=0;x<255;x++)L.LOG_TABLE[L.EXP_TABLE[x]]=x;function _e(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var s=0;s<t.length&&t[s]==0;)s++;this.num=new Array(t.length-s+e);for(var n=0;n<t.length-s;n++)this.num[n]=t[n+s]}_e.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),s=0;s<this.getLength();s++)for(var n=0;n<t.getLength();n++)e[s+n]^=L.gexp(L.glog(this.get(s))+L.glog(t.get(n)));return new _e(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=L.glog(this.get(0))-L.glog(t.get(0)),s=new Array(this.getLength()),n=0;n<this.getLength();n++)s[n]=this.get(n);for(var n=0;n<t.getLength();n++)s[n]^=L.gexp(L.glog(t.get(n))+e);return new _e(s,0).mod(t)}};function X(t,e){this.totalCount=t,this.dataCount=e}X.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];X.getRSBlocks=function(t,e){var s=X.getRsBlockTable(t,e);if(s==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=s.length/3,i=[],r=0;r<n;r++)for(var a=s[r*3+0],o=s[r*3+1],c=s[r*3+2],l=0;l<a;l++)i.push(new X(o,c));return i};X.getRsBlockTable=function(t,e){switch(e){case ae.L:return X.RS_BLOCK_TABLE[(t-1)*4+0];case ae.M:return X.RS_BLOCK_TABLE[(t-1)*4+1];case ae.Q:return X.RS_BLOCK_TABLE[(t-1)*4+2];case ae.H:return X.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function qs(){this.buffer=[],this.length=0}qs.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var s=0;s<e;s++)this.putBit((t>>>e-s-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var At=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Zs(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function s(c){switch(c){case"L":return ae.L;case"M":return ae.M;case"Q":return ae.Q;case"H":return ae.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,l){for(var d=i(c),u=1,p=0,k=0,B=At.length;k<=B;k++){var M=At[k];if(!M)throw new Error("Content too long: expected "+p+" but got "+d);switch(l){case"L":p=M[0];break;case"M":p=M[1];break;case"Q":p=M[2];break;case"H":p=M[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(d<=p)break;u++}if(u>At.length)throw new Error("Content too long");return u}function i(c){var l=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=c?3:0)}var r=this.options.content,a=n(r,this.options.ecl),o=s(this.options.ecl);this.qrcode=new te(a,o),this.qrcode.addData(r),this.qrcode.make()}Zs.prototype.svg=function(t){var e=this.options||{},s=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",r=n?`\r
`:"",a=e.width,o=e.height,c=s.length,l=a/(c+2*e.padding),d=o/(c+2*e.padding),u=typeof e.join<"u"?!!e.join:!1,p=typeof e.swap<"u"?!!e.swap:!1,k=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,B=typeof e.predefined<"u"?!!e.predefined:!1,M=B?i+'<defs><path id="qrmodule" d="M0 0 h'+d+" v"+l+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+r:"",C=i+'<rect x="0" y="0" width="'+a+'" height="'+o+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+r,P="",Ae="",be=0;be<c;be++)for(var N=0;N<c;N++){var Ct=s[N][be];if(Ct){var V=N*l+e.padding*l,q=be*d+e.padding*d;if(p){var an=V;V=q,q=an}if(u){var Le=l+V,xe=d+q;V=Number.isInteger(V)?Number(V):V.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),Le=Number.isInteger(Le)?Number(Le):Le.toFixed(2),xe=Number.isInteger(xe)?Number(xe):xe.toFixed(2),Ae+="M"+V+","+q+" V"+xe+" H"+Le+" V"+q+" H"+V+" Z "}else B?P+=i+'<use x="'+V.toString()+'" y="'+q.toString()+'" href="#qrmodule" />'+r:P+=i+'<rect x="'+V.toString()+'" y="'+q.toString()+'" width="'+l+'" height="'+d+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+r}}u&&(P=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+Ae+'" />');let ce="";if(this.options.image!==void 0&&this.options.image.svg){const es=a*this.options.image.width/100,ts=o*this.options.image.height/100,cn=a/2-es/2,ln=o/2-ts/2;ce+=`<svg x="${cn}" y="${ln}" width="${es}" height="${ts}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ce+=this.options.image.svg+r,ce+="</svg>"}var D="";switch(t.container){case"svg":k&&(D+='<?xml version="1.0" standalone="yes"?>'+r),D+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+a+'" height="'+o+'">'+r,D+=M+C+P,D+=ce,D+="</svg>";break;case"svg-viewbox":k&&(D+='<?xml version="1.0" standalone="yes"?>'+r),D+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+a+" "+o+'">'+r,D+=M+C+P,D+=ce,D+="</svg>";break;case"g":D+='<g width="'+a+'" height="'+o+'">'+r,D+=M+C+P,D+=ce,D+="</g>";break;default:D+=(M+C+P+ce).replace(/^\s+/,"");break}return D};var hi=Zs,gi=v&&v.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ct,"__esModule",{value:!0});ct.QRCode=void 0;const fi=H,vs=Pe,pi=gi(hi),bi=t=>{const[e,s]=(0,vs.useState)("");return(0,vs.useEffect)(()=>{var n,i;const r=new pi.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),a=w.Buffer.from(r.svg(),"utf8").toString("base64");s(`data:image/svg+xml;base64,${a}`)}),e?(0,fi.h)("img",{src:e,alt:"QR Code"}):null};ct.QRCode=bi;var lt={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var mi=v&&v.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lt,"__esModule",{value:!0});lt.Spinner=void 0;const $e=H,wi=mi(Zt),vi=t=>{var e;const s=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,$e.h)("div",{class:"-cbwsdk-spinner"},(0,$e.h)("style",null,wi.default),(0,$e.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:s,height:s}},(0,$e.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};lt.Spinner=vi;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Ie=v&&v.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ee,"__esModule",{value:!0});ee.CoinbaseAppSteps=ee.CoinbaseWalletSteps=ee.ConnectItem=ee.ConnectContent=void 0;const $=Ie(Ge),g=H,_s=Pe,_i=h,yi=it,Ei=rt,ki=Ie($t),Ci=Ie(zt),Qs=ot,Si=Ie(Vt),Mi=Ie(qt),Ii=at,Ai=ct,Li=lt,xi=Ie(Qt),ys={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:Ci.default,steps:Ks},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:ki.default,steps:Ys}},Ni=t=>{switch(t){case"coinbase-app":return Si.default;case"coinbase-wallet-app":default:return Mi.default}},Ot=t=>t==="light"?"#FFFFFF":"#0A0B0D";function Di(t){const{theme:e}=t,[s,n]=(0,_s.useState)("coinbase-wallet-app"),i=(0,_s.useCallback)(l=>{n(l)},[]),r=(0,_i.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),a=ys[s];if(!s)return null;const o=a.steps,c=s==="coinbase-app";return(0,g.h)("div",{"data-testid":"connect-content",class:(0,$.default)("-cbwsdk-connect-content",e)},(0,g.h)("style",null,xi.default),(0,g.h)("div",{class:"-cbwsdk-connect-content-header"},(0,g.h)("h2",{class:(0,$.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,g.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,g.h)(Ei.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,g.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,g.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,g.h)("div",null,Object.entries(ys).map(([l,d])=>(0,g.h)(Gs,{key:l,title:d.title,description:d.description,icon:d.icon,selected:s===l,onClick:()=>i(l),theme:e}))),c&&(0,g.h)("div",{class:(0,$.default)("-cbwsdk-connect-content-update-app",e)},"Don\u2019t see a ",(0,g.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,g.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,g.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,g.h)(Ai.QRCode,{content:r,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:Ni(s),width:25,height:25}}),(0,g.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:yi.LIB_VERSION}),(0,g.h)("input",{type:"hidden",value:r})),(0,g.h)(o,{theme:e}),!t.isConnected&&(0,g.h)("div",{"data-testid":"connecting-spinner",class:(0,$.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,g.h)(Li.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,g.h)("p",null,"Connecting...")))))}ee.ConnectContent=Di;function Gs({title:t,description:e,icon:s,selected:n,theme:i,onClick:r}){return(0,g.h)("div",{onClick:r,class:(0,$.default)("-cbwsdk-connect-item",i,{selected:n})},(0,g.h)("div",null,(0,g.h)("img",{src:s,alt:t})),(0,g.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,g.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,g.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}ee.ConnectItem=Gs;function Ks({theme:t}){return(0,g.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,g.h)("li",{class:(0,$.default)("-cbwsdk-wallet-steps-item",t)},(0,g.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,g.h)("li",{class:(0,$.default)("-cbwsdk-wallet-steps-item",t)},(0,g.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,g.h)("span",null,"Tap ",(0,g.h)("strong",null,"Scan")," "),(0,g.h)("span",{class:(0,$.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,g.h)(Qs.QRCodeIcon,{fill:Ot(t)})))))}ee.CoinbaseWalletSteps=Ks;function Ys({theme:t}){return(0,g.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,g.h)("li",{class:(0,$.default)("-cbwsdk-wallet-steps-item",t)},(0,g.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,g.h)("li",{class:(0,$.default)("-cbwsdk-wallet-steps-item",t)},(0,g.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,g.h)("span",null,"Tap ",(0,g.h)("strong",null,"More")),(0,g.h)("span",{class:(0,$.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,g.h)(Ii.StatusDotIcon,{fill:Ot(t)})),(0,g.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,g.h)("strong",null,"Scan")),(0,g.h)("span",{class:(0,$.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,g.h)(Qs.QRCodeIcon,{fill:Ot(t)})))))}ee.CoinbaseAppSteps=Ys;var dt={},ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.ArrowLeftIcon=void 0;const Es=H;function Ri(t){return(0,Es.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Es.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}ut.ArrowLeftIcon=Ri;var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.LaptopIcon=void 0;const Lt=H;function Ti(t){return(0,Lt.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Lt.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Lt.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}ht.LaptopIcon=Ti;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.SafeIcon=void 0;const ks=H;function ji(t){return(0,ks.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,ks.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}gt.SafeIcon=ji;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var Js=v&&v.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(dt,"__esModule",{value:!0});dt.TryExtensionContent=void 0;const le=Js(Ge),S=H,xt=Pe,Oi=ut,Pi=ht,Bi=gt,Wi=Js(Gt);function Fi({theme:t}){const[e,s]=(0,xt.useState)(!1),n=(0,xt.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,xt.useCallback)(()=>{e?window.location.reload():(n(),s(!0))},[n,e]);return(0,S.h)("div",{class:(0,le.default)("-cbwsdk-try-extension",t)},(0,S.h)("style",null,Wi.default),(0,S.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,S.h)("h3",{class:(0,le.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,S.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,S.h)("button",{class:(0,le.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,S.h)("div",null,!e&&(0,S.h)(Oi.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,S.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,S.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,S.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,S.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,S.h)("span",{class:(0,le.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,S.h)(Pi.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,S.h)("div",{class:(0,le.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,S.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,S.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,S.h)("span",{class:(0,le.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,S.h)(Bi.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,S.h)("div",{class:(0,le.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}dt.TryExtensionContent=Fi;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Xs=v&&v.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nt,"__esModule",{value:!0});nt.ConnectDialog=void 0;const Nt=Xs(Ge),de=H,Dt=Pe,Hi=ee,Ui=dt,$i=Xs(Kt),zi=t=>{const{isOpen:e,darkMode:s}=t,[n,i]=(0,Dt.useState)(!e),[r,a]=(0,Dt.useState)(!e);(0,Dt.useEffect)(()=>{const c=[window.setTimeout(()=>{a(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const o=s?"dark":"light";return(0,de.h)("div",{class:(0,Nt.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,de.h)("style",null,$i.default),(0,de.h)("div",{class:(0,Nt.default)("-cbwsdk-connect-dialog-backdrop",o,r&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,de.h)("div",{class:"-cbwsdk-connect-dialog"},(0,de.h)("div",{class:(0,Nt.default)("-cbwsdk-connect-dialog-box",r&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,de.h)(Hi.ConnectContent,{theme:o,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,de.h)(Ui.TryExtensionContent,{theme:o}))))};nt.ConnectDialog=zi;Object.defineProperty(st,"__esModule",{value:!0});st.LinkFlow=void 0;const Rt=H,Cs=Qe,Vi=nt;class qi{constructor(e){this.extensionUI$=new Cs.BehaviorSubject({}),this.subscriptions=new Cs.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(s=>{this.isConnected!==s&&(this.isConnected=s,this.render())})),this.subscriptions.add(this.chainId$.subscribe(s=>{this.chainId!==s&&(this.chainId=s,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,Rt.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,Rt.render)((0,Rt.h)(Vi.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}st.LinkFlow=qi;var en={},Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=v&&v.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const s=e(Ge),n=H,i=Pe,r=e(Yt),a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function o(u){switch(u){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(p){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=p.darkMode}attach(p){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",p.appendChild(this.root),this.render()}presentItem(p){const k=this.nextItemKey++;return this.items.set(k,p),this.render(),()=>{this.items.delete(k),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([p,k])=>(0,n.h)(t.SnackbarInstance,Object.assign({},k,{key:p}))))),this.root)}}t.Snackbar=c;const l=u=>(0,n.h)("div",{class:(0,s.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,r.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},u.children));t.SnackbarContainer=l;const d=({autoExpand:u,message:p,menuItems:k,appSrc:B})=>{const[M,C]=(0,i.useState)(!0),[P,Ae]=(0,i.useState)(u!=null?u:!1);(0,i.useEffect)(()=>{const N=[window.setTimeout(()=>{C(!1)},1),window.setTimeout(()=>{Ae(!0)},1e4)];return()=>{N.forEach(window.clearTimeout)}});const be=()=>{Ae(!P)};return(0,n.h)("div",{class:(0,s.default)("-cbwsdk-snackbar-instance",M&&"-cbwsdk-snackbar-instance-hidden",P&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:be},(0,n.h)("img",{src:o(B),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},p),(0,n.h)("div",{class:"-gear-container"},!P&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),k&&k.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},k.map((N,Ct)=>(0,n.h)("div",{class:(0,s.default)("-cbwsdk-snackbar-instance-menu-item",N.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:N.onClick,key:Ct},(0,n.h)("svg",{width:N.svgWidth,height:N.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":N.defaultFillRule,"clip-rule":N.defaultClipRule,d:N.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,s.default)("-cbwsdk-snackbar-instance-menu-item-info",N.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},N.info)))))};t.SnackbarInstance=d})(en);var ft={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var Zi=v&&v.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ft,"__esModule",{value:!0});ft.injectCssReset=void 0;const Qi=Zi(Jt);function Gi(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(Qi.default)),document.documentElement.appendChild(t)}ft.injectCssReset=Gi;Object.defineProperty(tt,"__esModule",{value:!0});tt.WalletSDKUI=void 0;const Ki=st,Yi=en,Ji=ft;class Xi{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new Yi.Snackbar({darkMode:e.darkMode}),this.linkFlow=new Ki.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,s=document.createElement("div");s.className="-cbwsdk-css-reset",e.appendChild(s),this.linkFlow.attach(s),this.snackbar.attach(s),this.attached=!0,(0,Ji.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let s;return e.isUnlinkedErrorState?s={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:s={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(s)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}tt.WalletSDKUI=Xi;var pt={},bt={},U={};Object.defineProperty(U,"__esModule",{value:!0});U.ClientMessagePublishEvent=U.ClientMessageSetSessionConfig=U.ClientMessageGetSessionConfig=U.ClientMessageIsLinked=U.ClientMessageHostSession=void 0;function er(t){return Object.assign({type:"HostSession"},t)}U.ClientMessageHostSession=er;function tr(t){return Object.assign({type:"IsLinked"},t)}U.ClientMessageIsLinked=tr;function sr(t){return Object.assign({type:"GetSessionConfig"},t)}U.ClientMessageGetSessionConfig=sr;function nr(t){return Object.assign({type:"SetSessionConfig"},t)}U.ClientMessageSetSessionConfig=nr;function ir(t){return Object.assign({type:"PublishEvent"},t)}U.ClientMessagePublishEvent=ir;var tn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Qe,s=Bt;var n;(function(r){r[r.DISCONNECTED=0]="DISCONNECTED",r[r.CONNECTING=1]="CONNECTING",r[r.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(a,o=WebSocket){this.WebSocketClass=o,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=a.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(a=>{let o;try{this.webSocket=o=new this.WebSocketClass(this.url)}catch(c){a.error(c);return}this.connectionStateSubject.next(n.CONNECTING),o.onclose=c=>{this.clearWebSocket(),a.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},o.onopen=c=>{a.next(),a.complete(),this.connectionStateSubject.next(n.CONNECTED)},o.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,s.take)(1))}disconnect(){const{webSocket:a}=this;if(!!a){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{a.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,s.flatMap)(a=>{let o;try{o=JSON.parse(a)}catch{return(0,e.empty)()}return(0,e.of)(o)}))}sendData(a){const{webSocket:o}=this;if(!o)throw new Error("websocket is not connected");o.send(a)}clearWebSocket(){const{webSocket:a}=this;!a||(this.webSocket=null,a.onclose=null,a.onerror=null,a.onmessage=null,a.onopen=null)}}t.RxWebSocket=i})(tn);var mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.isServerMessageFail=void 0;function rr(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}mt.isServerMessageFail=rr;Object.defineProperty(bt,"__esModule",{value:!0});bt.WalletSDKConnection=void 0;const Z=Qe,b=Bt,Ne=Me,me=Be,De=U,Re=Se,ze=tn,Tt=mt,Ss=1e4,or=6e4;class ar{constructor(e,s,n,i,r=WebSocket){this.sessionId=e,this.sessionKey=s,this.diagnostic=i,this.subscriptions=new Z.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,me.IntNumber)(1),this.connectedSubject=new Z.BehaviorSubject(!1),this.linkedSubject=new Z.BehaviorSubject(!1),this.sessionConfigSubject=new Z.ReplaySubject(1);const a=new ze.RxWebSocket(n+"/rpc",r);this.ws=a,this.subscriptions.add(a.connectionState$.pipe((0,b.tap)(o=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Re.EVENTS.CONNECTED_STATE_CHANGE,{state:o,sessionIdHash:Ne.Session.hash(e)})}),(0,b.skip)(1),(0,b.filter)(o=>o===ze.ConnectionState.DISCONNECTED&&!this.destroyed),(0,b.delay)(5e3),(0,b.filter)(o=>!this.destroyed),(0,b.flatMap)(o=>a.connect()),(0,b.retry)()).subscribe()),this.subscriptions.add(a.connectionState$.pipe((0,b.skip)(2),(0,b.switchMap)(o=>(0,Z.iif)(()=>o===ze.ConnectionState.CONNECTED,this.authenticate().pipe((0,b.tap)(c=>this.sendIsLinked()),(0,b.tap)(c=>this.sendGetSessionConfig()),(0,b.map)(c=>!0)),(0,Z.of)(!1))),(0,b.distinctUntilChanged)(),(0,b.catchError)(o=>(0,Z.of)(!1))).subscribe(o=>this.connectedSubject.next(o))),this.subscriptions.add(a.connectionState$.pipe((0,b.skip)(1),(0,b.switchMap)(o=>(0,Z.iif)(()=>o===ze.ConnectionState.CONNECTED,(0,Z.timer)(0,Ss)))).subscribe(o=>o===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(a.incomingData$.pipe((0,b.filter)(o=>o==="h")).subscribe(o=>this.updateLastHeartbeat())),this.subscriptions.add(a.incomingJSONData$.pipe((0,b.filter)(o=>["IsLinkedOK","Linked"].includes(o.type))).subscribe(o=>{var c;const l=o;(c=this.diagnostic)===null||c===void 0||c.log(Re.EVENTS.LINKED,{sessionIdHash:Ne.Session.hash(e),linked:l.linked,type:o.type,onlineGuests:l.onlineGuests}),this.linkedSubject.next(l.linked||l.onlineGuests>0)})),this.subscriptions.add(a.incomingJSONData$.pipe((0,b.filter)(o=>["GetSessionConfigOK","SessionConfigUpdated"].includes(o.type))).subscribe(o=>{var c;const l=o;(c=this.diagnostic)===null||c===void 0||c.log(Re.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Ne.Session.hash(e),metadata_keys:l&&l.metadata?Object.keys(l.metadata):void 0}),this.sessionConfigSubject.next({webhookId:l.webhookId,webhookUrl:l.webhookUrl,metadata:l.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Re.EVENTS.STARTED_CONNECTING,{sessionIdHash:Ne.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Re.EVENTS.DISCONNECTED,{sessionIdHash:Ne.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,b.filter)(e=>e),(0,b.take)(1),(0,b.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,b.filter)(e=>e),(0,b.take)(1),(0,b.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,b.filter)(e=>{if(e.type!=="Event")return!1;const s=e;return typeof s.sessionId=="string"&&typeof s.eventId=="string"&&typeof s.event=="string"&&typeof s.data=="string"}),(0,b.map)(e=>e))}setSessionMetadata(e,s){const n=(0,De.ClientMessageSetSessionConfig)({id:(0,me.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:s}});return this.onceConnected$.pipe((0,b.flatMap)(i=>this.makeRequest(n)),(0,b.map)(i=>{if((0,Tt.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,s,n=!1){const i=(0,De.ClientMessagePublishEvent)({id:(0,me.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:s,callWebhook:n});return this.onceLinked$.pipe((0,b.flatMap)(r=>this.makeRequest(i)),(0,b.map)(r=>{if((0,Tt.isServerMessageFail)(r))throw new Error(r.error||"failed to publish event");return r.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Ss*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,s=or){const n=e.id;try{this.sendData(e)}catch(i){return(0,Z.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,b.timeoutWith)(s,(0,Z.throwError)(new Error(`request ${n} timed out`))),(0,b.filter)(i=>i.id===n),(0,b.take)(1))}authenticate(){const e=(0,De.ClientMessageHostSession)({id:(0,me.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,b.map)(s=>{if((0,Tt.isServerMessageFail)(s))throw new Error(s.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,De.ClientMessageIsLinked)({id:(0,me.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,De.ClientMessageGetSessionConfig)({id:(0,me.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}bt.WalletSDKConnection=ar;var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.WalletUIError=void 0;class Oe extends Error{constructor(e,s){super(e),this.message=e,this.errorCode=s}}wt.WalletUIError=Oe;Oe.UserRejectedRequest=new Oe("User rejected request");Oe.SwitchEthereumChainUnsupportedChainId=new Oe("Unsupported chainId",4902);var ke={};Object.defineProperty(ke,"__esModule",{value:!0});ke.decrypt=ke.encrypt=void 0;const qe=h;async function cr(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const s=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,qe.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,r=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:s},n,i.encode(t)),a=16,o=r.slice(r.byteLength-a),c=r.slice(0,r.byteLength-a),l=new Uint8Array(o),d=new Uint8Array(c),u=new Uint8Array([...s,...l,...d]);return(0,qe.uint8ArrayToHex)(u)}ke.encrypt=cr;function lr(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((s,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,qe.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),r=(0,qe.hexStringToUint8Array)(t),a=r.slice(0,12),o=r.slice(12,28),c=r.slice(28),l=new Uint8Array([...c,...o]),d={name:"AES-GCM",iv:new Uint8Array(a)};try{const u=await window.crypto.subtle.decrypt(d,i,l),p=new TextDecoder;s(p.decode(u))}catch(u){n(u)}})()})}ke.decrypt=lr;var Xt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Xt);var vt={},_t={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(_t);Object.defineProperty(vt,"__esModule",{value:!0});vt.Web3RequestCanceledMessage=void 0;const dr=_t;function ur(t){return{type:dr.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}vt.Web3RequestCanceledMessage=ur;var yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.Web3RequestMessage=void 0;const hr=_t;function gr(t){return Object.assign({type:hr.RelayMessageType.WEB3_REQUEST},t)}yt.Web3RequestMessage=gr;var y={};Object.defineProperty(y,"__esModule",{value:!0});y.EthereumAddressFromSignedMessageResponse=y.SubmitEthereumTransactionResponse=y.SignEthereumTransactionResponse=y.SignEthereumMessageResponse=y.isRequestEthereumAccountsResponse=y.SelectProviderResponse=y.WatchAssetReponse=y.RequestEthereumAccountsResponse=y.SwitchEthereumChainResponse=y.AddEthereumChainResponse=y.ErrorResponse=void 0;const se=Xt;function fr(t,e,s){return{method:t,errorMessage:e,errorCode:s}}y.ErrorResponse=fr;function pr(t){return{method:se.Web3Method.addEthereumChain,result:t}}y.AddEthereumChainResponse=pr;function br(t){return{method:se.Web3Method.switchEthereumChain,result:t}}y.SwitchEthereumChainResponse=br;function mr(t){return{method:se.Web3Method.requestEthereumAccounts,result:t}}y.RequestEthereumAccountsResponse=mr;function wr(t){return{method:se.Web3Method.watchAsset,result:t}}y.WatchAssetReponse=wr;function vr(t){return{method:se.Web3Method.selectProvider,result:t}}y.SelectProviderResponse=vr;function _r(t){return t&&t.method===se.Web3Method.requestEthereumAccounts}y.isRequestEthereumAccountsResponse=_r;function yr(t){return{method:se.Web3Method.signEthereumMessage,result:t}}y.SignEthereumMessageResponse=yr;function Er(t){return{method:se.Web3Method.signEthereumTransaction,result:t}}y.SignEthereumTransactionResponse=Er;function kr(t){return{method:se.Web3Method.submitEthereumTransaction,result:t}}y.SubmitEthereumTransactionResponse=kr;function Cr(t){return{method:se.Web3Method.ethereumAddressFromSignedMessage,result:t}}y.EthereumAddressFromSignedMessageResponse=Cr;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.isWeb3ResponseMessage=Ce.Web3ResponseMessage=void 0;const sn=_t;function Sr(t){return Object.assign({type:sn.RelayMessageType.WEB3_RESPONSE},t)}Ce.Web3ResponseMessage=Sr;function Mr(t){return t&&t.type===sn.RelayMessageType.WEB3_RESPONSE}Ce.isWeb3ResponseMessage=Mr;var Ir=v&&v.__createBinding||(Object.create?function(t,e,s,n){n===void 0&&(n=s),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[s]}})}:function(t,e,s,n){n===void 0&&(n=s),t[n]=e[s]}),Ar=v&&v.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nn=v&&v.__decorate||function(t,e,s,n){var i=arguments.length,r=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,s):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(t,e,s,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(r=(i<3?a(r):i>3?a(e,s,r):a(e,s))||r);return i>3&&r&&Object.defineProperty(e,s,r),r},Lr=v&&v.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var s in t)s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)&&Ir(e,t,s);return Ar(e,t),e},xr=v&&v.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pt,"__esModule",{value:!0});pt.WalletSDKRelay=void 0;const rn=xr(mn),Ms=Pt,ue=Qe,I=Bt,T=Se,Nr=bt,jt=wt,Dr=Be,_=h,ie=Lr(ke),re=Me,Ve=K,A=Xt,Rr=vt,Tr=yt,W=y,j=Ce;class G extends Ve.WalletSDKRelayAbstract{constructor(e){var s;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new ue.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new ue.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:r}=this.subscribe();if(this._session=n,this.connection=r,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(s=e.reloadOnDisconnect)!==null&&s!==void 0?s:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=re.Session.load(this.storage)||new re.Session(this.storage).save(),s=new Nr.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(s.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(T.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(s.incomingEvent$.pipe((0,I.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(s.linked$.pipe((0,I.skip)(1),(0,I.tap)(i=>{var r;this.isLinked=i;const a=this.storage.getItem(Ve.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,a){const o=a.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(o[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const l=this.getSessionIdHash();(r=this.diagnostic)===null||r===void 0||r.log(T.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:l})}}})).subscribe()),this.subscriptions.add(s.sessionConfig$.pipe((0,I.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const r=s.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(T.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:r,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(s.sessionConfig$.pipe((0,I.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,I.mergeMap)(i=>ie.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Ve.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(T.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(s.sessionConfig$.pipe((0,I.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,I.mergeMap)(i=>ie.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Ve.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(T.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(s.sessionConfig$.pipe((0,I.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,I.mergeMap)(i=>(0,ue.zip)(ie.decrypt(i.metadata.ChainId,e.secret),ie.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,I.distinctUntilChanged)()).subscribe({next:([i,r])=>{this.chainCallback&&this.chainCallback(i,r)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(T.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(s.sessionConfig$.pipe((0,I.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,I.mergeMap)(i=>ie.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),G.accountRequestCallbackIds.size>0&&(Array.from(G.accountRequestCallbackIds.values()).forEach(r=>{const a=(0,j.Web3ResponseMessage)({id:r,response:(0,W.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},a),{id:r}))}),G.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(T.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(s.sessionConfig$.pipe((0,I.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,I.mergeMap)(i=>ie.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(T.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:s.connected$,chainId$:this.dappDefaultChainSubject});return s.connect(),{session:e,ui:n,connection:s}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,I.timeout)(1e3),(0,I.catchError)(e=>(0,ue.of)(null))).subscribe(e=>{var s,n,i;const r=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(s=this.diagnostic)===null||s===void 0||s.log(T.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(T.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const a=re.Session.load(this.storage);if((a==null?void 0:a.id)===this._session.id?this.storage.clear():a&&((i=this.diagnostic)===null||i===void 0||i.log(T.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:re.Session.hash(a.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new ue.Subscription;const{session:o,ui:c,connection:l}=this.subscribe();this._session=o,this.connection=l,this.ui=c,r&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var s;(s=this.diagnostic)===null||s===void 0||s.log(T.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,s){this.appName=e,this.appLogoUrl=s}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,s){this.storage.setItem(e,s)}signEthereumMessage(e,s,n,i){return this.sendRequest({method:A.Web3Method.signEthereumMessage,params:{message:(0,_.hexStringFromBuffer)(e,!0),address:s,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,s,n){return this.sendRequest({method:A.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,_.hexStringFromBuffer)(e,!0),signature:(0,_.hexStringFromBuffer)(s,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:A.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,_.bigIntStringFromBN)(e.weiValue),data:(0,_.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,_.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,_.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,_.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,_.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:A.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,_.bigIntStringFromBN)(e.weiValue),data:(0,_.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,_.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,_.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,_.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,_.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,s){return this.sendRequest({method:A.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,_.hexStringFromBuffer)(e,!0),chainId:s}})}scanQRCode(e){return this.sendRequest({method:A.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,_.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,s){return this.sendRequest({method:A.Web3Method.generic,params:{action:s,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let s=null;const n=(0,_.randomBytesHex)(8),i=a=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,a),s==null||s()};return{promise:new Promise((a,o)=>{this.ui.isStandalone()||(s=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(s==null||s(),c.errorMessage)return o(new Error(c.errorMessage));a(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,s){var n;const i=(0,Tr.Web3RequestMessage)({id:e,request:s}),r=re.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(T.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:r?re.Session.hash(r.id):"",isSessionMismatched:((r==null?void 0:r.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:a=>{var o;(o=this.diagnostic)===null||o===void 0||o.log(T.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:r?re.Session.hash(r.id):"",isSessionMismatched:((r==null?void 0:r.id)!==this._session.id).toString()})},error:a=>{this.handleWeb3ResponseMessage((0,j.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:a.message}}))}}))}publishWeb3RequestCanceledEvent(e){const s=(0,Rr.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",s,!1).subscribe())}publishEvent(e,s,n){const i=this.session.secret;return new ue.Observable(r=>{ie.encrypt(JSON.stringify(Object.assign(Object.assign({},s),{origin:location.origin})),i).then(a=>{r.next(a),r.complete()})}).pipe((0,I.mergeMap)(r=>this.connection.publishEvent(e,r,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,ue.from)(ie.decrypt(e.data,this.session.secret)).pipe((0,I.map)(s=>JSON.parse(s))).subscribe({next:s=>{const n=(0,j.isWeb3ResponseMessage)(s)?s:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var s;(s=this.diagnostic)===null||s===void 0||s.log(T.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var s;const{response:n}=e;if((s=this.diagnostic)===null||s===void 0||s.log(T.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,W.isRequestEthereumAccountsResponse)(n)){G.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),G.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,s,n,i){this.handleWeb3ResponseMessage((0,j.Web3ResponseMessage)({id:e,response:(0,W.ErrorResponse)(s,(n!=null?n:jt.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const s=this.relayEventManager.callbacks.get(e.id);s&&(s(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:A.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},s=(0,_.randomBytesHex)(8),n=r=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,e.method,r)};return{promise:new Promise((r,a)=>{var o;this.relayEventManager.callbacks.set(s,l=>{if(this.ui.hideRequestEthereumAccounts(),l.errorMessage)return a(new Error(l.errorMessage));r(l)});const c=((o=window==null?void 0:window.navigator)===null||o===void 0?void 0:o.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let l;try{(0,_.isInIFrame)()&&window.top?l=window.top.location:l=window.location}catch{l=window.location}l.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(l.href)}`;return}if(this.ui.inlineAccountsResponse()){const l=d=>{this.handleWeb3ResponseMessage((0,j.Web3ResponseMessage)({id:s,response:(0,W.RequestEthereumAccountsResponse)(d)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:l})}else{const l=Ms.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(l)})}G.accountRequestCallbackIds.add(s),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(s,e)}),cancel:n}}selectProvider(e){const s={method:A.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,_.randomBytesHex)(8),i=a=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,s.method,a)},r=new Promise((a,o)=>{this.relayEventManager.callbacks.set(n,d=>{if(d.errorMessage)return o(new Error(d.errorMessage));a(d)});const c=d=>{this.handleWeb3ResponseMessage((0,j.Web3ResponseMessage)({id:n,response:(0,W.SelectProviderResponse)(Dr.ProviderType.Unselected)}))},l=d=>{this.handleWeb3ResponseMessage((0,j.Web3ResponseMessage)({id:n,response:(0,W.SelectProviderResponse)(d)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:c,providerOptions:e})});return{cancel:i,promise:r}}watchAsset(e,s,n,i,r,a){const o={method:A.Web3Method.watchAsset,params:{type:e,options:{address:s,symbol:n,decimals:i,image:r},chainId:a}};let c=null;const l=(0,_.randomBytesHex)(8),d=p=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,o.method,p),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload}));const u=new Promise((p,k)=>{this.relayEventManager.callbacks.set(l,C=>{if(c==null||c(),C.errorMessage)return k(new Error(C.errorMessage));p(C)});const B=C=>{this.handleWeb3ResponseMessage((0,j.Web3ResponseMessage)({id:l,response:(0,W.WatchAssetReponse)(!1)}))},M=()=>{this.handleWeb3ResponseMessage((0,j.Web3ResponseMessage)({id:l,response:(0,W.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:M,onCancel:B,type:e,address:s,symbol:n,decimals:i,image:r,chainId:a}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,o)});return{cancel:d,promise:u}}addEthereumChain(e,s,n,i,r,a){const o={method:A.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:s,blockExplorerUrls:i,chainName:r,iconUrls:n,nativeCurrency:a}};let c=null;const l=(0,_.randomBytesHex)(8),d=p=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,o.method,p),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:d,onResetConnection:this.resetAndReload})),{promise:new Promise((p,k)=>{this.relayEventManager.callbacks.set(l,C=>{if(c==null||c(),C.errorMessage)return k(new Error(C.errorMessage));p(C)});const B=C=>{this.handleWeb3ResponseMessage((0,j.Web3ResponseMessage)({id:l,response:(0,W.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},M=C=>{this.handleWeb3ResponseMessage((0,j.Web3ResponseMessage)({id:l,response:(0,W.AddEthereumChainResponse)({isApproved:!0,rpcUrl:C})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:B,onApprove:M,chainId:o.params.chainId,rpcUrls:o.params.rpcUrls,blockExplorerUrls:o.params.blockExplorerUrls,chainName:o.params.chainName,iconUrls:o.params.iconUrls,nativeCurrency:o.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,o)}),cancel:d}}switchEthereumChain(e,s){const n={method:A.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:s})},i=(0,_.randomBytesHex)(8),r=o=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,o)};return{promise:new Promise((o,c)=>{this.relayEventManager.callbacks.set(i,u=>{if(u.errorMessage&&u.errorCode)return c(Ms.ethErrors.provider.custom({code:u.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(u.errorMessage)return c(new Error(u.errorMessage));o(u)});const l=u=>{if(typeof u=="number"){const p=u;this.handleWeb3ResponseMessage((0,j.Web3ResponseMessage)({id:i,response:(0,W.ErrorResponse)(A.Web3Method.switchEthereumChain,jt.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,p)}))}else u instanceof jt.WalletUIError?this.handleErrorResponse(i,A.Web3Method.switchEthereumChain,u,u.errorCode):this.handleWeb3ResponseMessage((0,j.Web3ResponseMessage)({id:i,response:(0,W.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},d=u=>{this.handleWeb3ResponseMessage((0,j.Web3ResponseMessage)({id:i,response:(0,W.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:u})}))};this.ui.switchEthereumChain({onCancel:l,onApprove:d,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:r}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return re.Session.hash(this._session.id)}sendRequestStandalone(e,s){const n=r=>{this.handleErrorResponse(e,s.method,r)},i=r=>{this.handleWeb3ResponseMessage((0,j.Web3ResponseMessage)({id:e,response:r}))};switch(s.method){case A.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:s,onSuccess:i,onCancel:n});break;case A.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:s,onSuccess:i,onCancel:n});break;case A.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:s,onSuccess:i,onCancel:n});break;case A.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:s,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}G.accountRequestCallbackIds=new Set;nn([rn.default],G.prototype,"resetAndReload",null);nn([rn.default],G.prototype,"handleIncomingEvent",null);pt.WalletSDKRelay=G;var Et={};Object.defineProperty(Et,"__esModule",{value:!0});Et.WalletSDKRelayEventManager=void 0;const jr=h;class Or{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,s=(0,jr.prepend0x)(e.toString(16));return this.callbacks.get(s)&&this.callbacks.delete(s),e}}Et.WalletSDKRelayEventManager=Or;const Pr="@coinbase/wallet-sdk",Br="3.6.6",Wr="Coinbase Wallet JavaScript SDK",Fr=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],Hr="dist/index.js",Ur="dist/index.d.ts",$r="https://github.com/coinbase/coinbase-wallet-sdk.git",zr="Coinbase, Inc.",Vr="Apache-2.0",qr={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},Zr={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},Qr={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},Gr={node:">= 10.0.0"},Kr={name:Pr,version:Br,description:Wr,keywords:Fr,main:Hr,types:Ur,repository:$r,author:zr,license:Vr,scripts:qr,dependencies:Zr,devDependencies:Qr,engines:Gr};Object.defineProperty(je,"__esModule",{value:!0});je.CoinbaseWalletSDK=void 0;const Yr=Ke,Jr=Ye,Xr=ye,eo=tt,to=pt,so=Et,no=h,io={}.LINK_API_URL||"https://www.walletlink.org",on={}.SDK_VERSION||Kr.version||"unknown";class kt{constructor(e){var s,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const r=e.linkAPIUrl||io;let a;if(e.uiConstructor?a=e.uiConstructor:a=l=>new eo.WalletSDKUI(l),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(s=e.overrideIsCoinbaseWallet)!==null&&s!==void 0?s:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const o=new URL(r),c=`${o.protocol}//${o.host}`;this._storage=new Jr.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",kt.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new so.WalletSDKRelayEventManager,this._relay=new to.WalletSDKRelay({linkAPIUrl:r,version:on,darkMode:!!e.darkMode,uiConstructor:a,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",s=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,s),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const r=this._relay;if(!r||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||r.setConnectDisabled(!0),new Xr.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(r),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:s,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,s){var n;this._appName=e||"DApp",this._appLogoUrl=s||(0,no.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const s=this.walletExtension;s?s.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,s;return(s=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&s!==void 0?s:null}getCoinbaseWalletLogo(e,s=240){return(0,Yr.walletLogo)(e,s)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,s;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(s=window.top)===null||s===void 0?void 0:s.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}je.CoinbaseWalletSDK=kt;kt.VERSION=on;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=je,s=ye;var n=je;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=ye;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=s.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=s.CoinbaseWalletProvider)})(Wt);const ro=un(Wt),yo=wn({__proto__:null,default:ro},[Wt]);export{yo as i};
