import{e as xe}from"./events.1ed0639b.js";import{a as et,c as V}from"./@account-abstraction.16fd1566.js";import{b as ae}from"./node-stdlib-browser.6b0e4e0c.js";import{b as tt}from"./debug.daa7020b.js";import{s as nt}from"./semver.7ad410de.js";var Se={};Object.defineProperty(Se,"__esModule",{value:!0});const rt=xe.exports;function fe(e,t,n){try{Reflect.apply(e,t,n)}catch(r){setTimeout(()=>{throw r})}}function it(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r+=1)n[r]=e[r];return n}class st extends rt.EventEmitter{emit(t,...n){let r=t==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let c;if(n.length>0&&([c]=n),c instanceof Error)throw c;const u=new Error(`Unhandled error.${c?` (${c.message})`:""}`);throw u.context=c,u}const s=i[t];if(s===void 0)return!1;if(typeof s=="function")fe(s,this,n);else{const c=s.length,u=it(s);for(let a=0;a<c;a+=1)fe(u[a],this,n)}return!0}}Se.default=st;var ot={},h={};class me extends TypeError{constructor(t,n){let r;const{message:i,explanation:s,...c}=t,{path:u}=t,a=u.length===0?i:`At path: ${u.join(".")} -- ${i}`;super(s!=null?s:a),s!=null&&(this.cause=a),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>r!=null?r:r=[t,...n()]}}function ct(e){return J(e)&&typeof e[Symbol.iterator]=="function"}function J(e){return typeof e=="object"&&e!=null}function de(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function p(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function ut(e){const{done:t,value:n}=e.next();return t?void 0:n}function at(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:c}=n,{refinement:u,message:a=`Expected a value of type \`${c}\`${u?` with refinement \`${u}\``:""}, but received: \`${p(r)}\``}=e;return{value:r,type:c,refinement:u,key:i[i.length-1],path:i,branch:s,...e,message:a}}function*Y(e,t,n,r){ct(e)||(e=[e]);for(const i of e){const s=at(i,t,n,r);s&&(yield s)}}function*K(e,t,n={}){const{path:r=[],branch:i=[e],coerce:s=!1,mask:c=!1}=n,u={path:r,branch:i};if(s&&(e=t.coercer(e,u),c&&t.type!=="type"&&J(t.schema)&&J(e)&&!Array.isArray(e)))for(const o in e)t.schema[o]===void 0&&delete e[o];let a="valid";for(const o of t.validator(e,u))o.explanation=n.message,a="not_valid",yield[o,void 0];for(let[o,l,g]of t.entries(e,u)){const E=K(l,g,{path:o===void 0?r:[...r,o],branch:o===void 0?i:[...i,l],coerce:s,mask:c,message:n.message});for(const T of E)T[0]?(a=T[0].refinement!=null?"not_refined":"not_valid",yield[T[0],void 0]):s&&(l=T[1],o===void 0?e=l:e instanceof Map?e.set(o,l):e instanceof Set?e.add(l):J(e)&&(l!==void 0||o in e)&&(e[o]=l))}if(a!=="not_valid")for(const o of t.refiner(e,u))o.explanation=n.message,a="not_refined",yield[o,void 0];a==="valid"&&(yield[void 0,e])}class b{constructor(t){const{type:n,schema:r,validator:i,refiner:s,coercer:c=a=>a,entries:u=function*(){}}=t;this.type=n,this.schema=r,this.entries=u,this.coercer=c,i?this.validator=(a,o)=>{const l=i(a,o);return Y(l,o,this,a)}:this.validator=()=>[],s?this.refiner=(a,o)=>{const l=s(a,o);return Y(l,o,this,a)}:this.refiner=()=>[]}assert(t,n){return pe(t,this,n)}create(t,n){return he(t,this,n)}is(t){return x(t,this)}mask(t,n){return Re(t,this,n)}validate(t,n={}){return z(t,this,n)}}function pe(e,t,n){const r=z(e,t,{message:n});if(r[0])throw r[0]}function he(e,t,n){const r=z(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Re(e,t,n){const r=z(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function x(e,t){return!z(e,t)[0]}function z(e,t,n={}){const r=K(e,t,n),i=ut(r);return i[0]?[new me(i[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0]:[void 0,i[1]]}function ft(...e){const t=e[0].type==="type",n=e.map(i=>i.schema),r=Object.assign({},...n);return t?te(r):k(r)}function I(e,t){return new b({type:e,schema:null,validator:t})}function dt(e,t){return new b({...e,refiner:(n,r)=>n===void 0||e.refiner(n,r),validator(n,r){return n===void 0?!0:(t(n,r),e.validator(n,r))}})}function lt(e){return new b({type:"dynamic",schema:null,*entries(t,n){yield*e(t,n).entries(t,n)},validator(t,n){return e(t,n).validator(t,n)},coercer(t,n){return e(t,n).coercer(t,n)},refiner(t,n){return e(t,n).refiner(t,n)}})}function gt(e){let t;return new b({type:"lazy",schema:null,*entries(n,r){t!=null||(t=e()),yield*t.entries(n,r)},validator(n,r){return t!=null||(t=e()),t.validator(n,r)},coercer(n,r){return t!=null||(t=e()),t.coercer(n,r)},refiner(n,r){return t!=null||(t=e()),t.refiner(n,r)}})}function yt(e,t){const{schema:n}=e,r={...n};for(const i of t)delete r[i];switch(e.type){case"type":return te(r);default:return k(r)}}function bt(e){const t=e instanceof b?{...e.schema}:{...e};for(const n in t)t[n]=we(t[n]);return k(t)}function St(e,t){const{schema:n}=e,r={};for(const i of t)r[i]=n[i];return k(r)}function mt(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),I(e,t)}function pt(){return I("any",()=>!0)}function ht(e){return new b({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${p(t)}`}})}function Rt(){return I("bigint",e=>typeof e=="bigint")}function wt(){return I("boolean",e=>typeof e=="boolean")}function It(){return I("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${p(e)}`)}function _t(e){const t={},n=e.map(r=>p(r)).join();for(const r of e)t[r]=r;return new b({type:"enums",schema:t,validator(r){return e.includes(r)||`Expected one of \`${n}\`, but received: ${p(r)}`}})}function Et(){return I("func",e=>typeof e=="function"||`Expected a function, but received: ${p(e)}`)}function Jt(e){return I("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${p(t)}`)}function $t(){return I("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${p(e)}`)}function jt(e){return new b({type:"intersection",schema:null,*entries(t,n){for(const r of e)yield*r.entries(t,n)},*validator(t,n){for(const r of e)yield*r.validator(t,n)},*refiner(t,n){for(const r of e)yield*r.refiner(t,n)}})}function Vt(e){const t=p(e),n=typeof e;return new b({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${p(r)}`}})}function Nt(e,t){return new b({type:"map",schema:null,*entries(n){if(e&&t&&n instanceof Map)for(const[r,i]of n.entries())yield[r,r,e],yield[r,i,t]},coercer(n){return n instanceof Map?new Map(n):n},validator(n){return n instanceof Map||`Expected a \`Map\` object, but received: ${p(n)}`}})}function ee(){return I("never",()=>!1)}function Ot(e){return new b({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function Tt(){return I("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${p(e)}`)}function k(e){const t=e?Object.keys(e):[],n=ee();return new b({type:"object",schema:e||null,*entries(r){if(e&&J(r)){const i=new Set(Object.keys(r));for(const s of t)i.delete(s),yield[s,r[s],e[s]];for(const s of i)yield[s,r[s],n]}},validator(r){return J(r)||`Expected an object, but received: ${p(r)}`},coercer(r){return J(r)?{...r}:r}})}function we(e){return new b({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function Bt(e,t){return new b({type:"record",schema:null,*entries(n){if(J(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator(n){return J(n)||`Expected an object, but received: ${p(n)}`}})}function At(){return I("regexp",e=>e instanceof RegExp)}function Pt(e){return new b({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const n of t)yield[n,n,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${p(t)}`}})}function Ie(){return I("string",e=>typeof e=="string"||`Expected a string, but received: ${p(e)}`)}function Mt(e){const t=ee();return new b({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${p(n)}`}})}function te(e){const t=Object.keys(e);return new b({type:"type",schema:e,*entries(n){if(J(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return J(n)||`Expected an object, but received: ${p(n)}`},coercer(n){return J(n)?{...n}:n}})}function Ht(e){const t=e.map(n=>n.type).join(" | ");return new b({type:"union",schema:null,coercer(n){for(const r of e){const[i,s]=r.validate(n,{coerce:!0});if(!i)return s}return n},validator(n,r){const i=[];for(const s of e){const[...c]=K(n,s,r),[u]=c;if(u[0])for(const[a]of c)a&&i.push(a);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${p(n)}`,...i]}})}function _e(){return I("unknown",()=>!0)}function ne(e,t,n){return new b({...e,coercer:(r,i)=>x(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}function zt(e,t,n={}){return ne(e,_e(),r=>{const i=typeof t=="function"?t():t;if(r===void 0)return i;if(!n.strict&&de(r)&&de(i)){const s={...r};let c=!1;for(const u in i)s[u]===void 0&&(s[u]=i[u],c=!0);if(c)return s}return r})}function vt(e){return ne(e,Ie(),t=>t.trim())}function Ct(e){return B(e,"empty",t=>{const n=Ee(t);return n===0||`Expected an empty ${e.type} but received one with a size of \`${n}\``})}function Ee(e){return e instanceof Map||e instanceof Set?e.size:e.length}function Ft(e,t,n={}){const{exclusive:r}=n;return B(e,"max",i=>r?i<t:i<=t||`Expected a ${e.type} less than ${r?"":"or equal to "}${t} but received \`${i}\``)}function kt(e,t,n={}){const{exclusive:r}=n;return B(e,"min",i=>r?i>t:i>=t||`Expected a ${e.type} greater than ${r?"":"or equal to "}${t} but received \`${i}\``)}function Ut(e){return B(e,"nonempty",t=>Ee(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function qt(e,t){return B(e,"pattern",n=>t.test(n)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${n}"`)}function Lt(e,t,n=t){const r=`Expected a ${e.type}`,i=t===n?`of \`${t}\``:`between \`${t}\` and \`${n}\``;return B(e,"size",s=>{if(typeof s=="number"||s instanceof Date)return t<=s&&s<=n||`${r} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:c}=s;return t<=c&&c<=n||`${r} with a size ${i} but received one with a size of \`${c}\``}else{const{length:c}=s;return t<=c&&c<=n||`${r} with a length ${i} but received one with a length of \`${c}\``}})}function B(e,t,n){return new b({...e,*refiner(r,i){yield*e.refiner(r,i);const s=n(r,i),c=Y(s,i,e,r);for(const u of c)yield{...u,refinement:t}}})}const Wt=Object.freeze(Object.defineProperty({__proto__:null,Struct:b,StructError:me,any:pt,array:ht,assert:pe,assign:ft,bigint:Rt,boolean:wt,coerce:ne,create:he,date:It,defaulted:zt,define:I,deprecated:dt,dynamic:lt,empty:Ct,enums:_t,func:Et,instance:Jt,integer:$t,intersection:jt,is:x,lazy:gt,literal:Vt,map:Nt,mask:Re,max:Ft,min:kt,never:ee,nonempty:Ut,nullable:Ot,number:Tt,object:k,omit:yt,optional:we,partial:bt,pattern:qt,pick:St,record:Bt,refine:B,regexp:At,set:Pt,size:Lt,string:Ie,struct:mt,trimmed:vt,tuple:Mt,type:te,union:Ht,unknown:_e,validate:z},Symbol.toStringTag,{value:"Module"})),A=et(Wt);Object.defineProperty(h,"__esModule",{value:!0});h.assertExhaustive=h.assertStruct=h.assert=h.AssertionError=void 0;const Dt=A;function Gt(e){return typeof e=="object"&&e!==null&&"message"in e}function Xt(e){var t,n;return Boolean(typeof((n=(t=e==null?void 0:e.prototype)===null||t===void 0?void 0:t.constructor)===null||n===void 0?void 0:n.name)=="string")}function Qt(e){const t=Gt(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}function Je(e,t){return Xt(e)?new e({message:t}):e({message:t})}class re extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}}h.AssertionError=re;function Yt(e,t="Assertion failed.",n=re){if(!e)throw t instanceof Error?t:Je(n,t)}h.assert=Yt;function Zt(e,t,n="Assertion failed",r=re){try{(0,Dt.assert)(e,t)}catch(i){throw Je(r,`${n}: ${Qt(i)}.`)}}h.assertStruct=Zt;function Kt(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}h.assertExhaustive=Kt;var U={};Object.defineProperty(U,"__esModule",{value:!0});U.base64=void 0;const xt=A,en=h,tn=(e,t={})=>{var n,r;const i=(n=t.paddingRequired)!==null&&n!==void 0?n:!1,s=(r=t.characterSet)!==null&&r!==void 0?r:"base64";let c;s==="base64"?c=String.raw`[A-Za-z0-9+\/]`:((0,en.assert)(s==="base64url"),c=String.raw`[-_A-Za-z0-9]`);let u;return i?u=new RegExp(`^(?:${c}{4})*(?:${c}{3}=|${c}{2}==)?$`,"u"):u=new RegExp(`^(?:${c}{4})*(?:${c}{2,3}|${c}{3}=|${c}{2}==)?$`,"u"),(0,xt.pattern)(e,u)};U.base64=tn;var d={},q={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;const t=A,n=h;e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/iu),e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/iu);function r(o){return(0,t.is)(o,e.HexStruct)}e.isHexString=r;function i(o){return(0,t.is)(o,e.StrictHexStruct)}e.isStrictHexString=i;function s(o){(0,n.assert)(r(o),"Value must be a hexadecimal string.")}e.assertIsHexString=s;function c(o){(0,n.assert)(i(o),'Value must be a hexadecimal string, starting with "0x".')}e.assertIsStrictHexString=c;function u(o){return o.startsWith("0x")?o:o.startsWith("0X")?`0x${o.substring(2)}`:`0x${o}`}e.add0x=u;function a(o){return o.startsWith("0x")||o.startsWith("0X")?o.substring(2):o}e.remove0x=a})(q);Object.defineProperty(d,"__esModule",{value:!0});d.createDataView=d.concatBytes=d.valueToBytes=d.stringToBytes=d.numberToBytes=d.signedBigIntToBytes=d.bigIntToBytes=d.hexToBytes=d.bytesToString=d.bytesToNumber=d.bytesToSignedBigInt=d.bytesToBigInt=d.bytesToHex=d.assertIsBytes=d.isBytes=void 0;const _=h,Z=q,le=48,ge=58,ye=87;function nn(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}const rn=nn();function ie(e){return e instanceof Uint8Array}d.isBytes=ie;function v(e){(0,_.assert)(ie(e),"Value must be a Uint8Array.")}d.assertIsBytes=v;function $e(e){if(v(e),e.length===0)return"0x";const t=rn(),n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t[e[r]];return(0,Z.add0x)(n.join(""))}d.bytesToHex=$e;function je(e){v(e);const t=$e(e);return BigInt(t)}d.bytesToBigInt=je;function sn(e){v(e);let t=BigInt(0);for(const n of e)t=(t<<BigInt(8))+BigInt(n);return BigInt.asIntN(e.length*8,t)}d.bytesToSignedBigInt=sn;function on(e){v(e);const t=je(e);return(0,_.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}d.bytesToNumber=on;function cn(e){return v(e),new TextDecoder().decode(e)}d.bytesToString=cn;function D(e){var t;if(((t=e==null?void 0:e.toLowerCase)===null||t===void 0?void 0:t.call(e))==="0x")return new Uint8Array;(0,Z.assertIsHexString)(e);const n=(0,Z.remove0x)(e).toLowerCase(),r=n.length%2===0?n:`0${n}`,i=new Uint8Array(r.length/2);for(let s=0;s<i.length;s++){const c=r.charCodeAt(s*2),u=r.charCodeAt(s*2+1),a=c-(c<ge?le:ye),o=u-(u<ge?le:ye);i[s]=a*16+o}return i}d.hexToBytes=D;function Ve(e){(0,_.assert)(typeof e=="bigint","Value must be a bigint."),(0,_.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return D(t)}d.bigIntToBytes=Ve;function un(e,t){(0,_.assert)(t>0);const n=e>>BigInt(31);return!((~e&n)+(e&~n)>>BigInt(t*8+-1))}function an(e,t){(0,_.assert)(typeof e=="bigint","Value must be a bigint."),(0,_.assert)(typeof t=="number","Byte length must be a number."),(0,_.assert)(t>0,"Byte length must be greater than 0."),(0,_.assert)(un(e,t),"Byte length is too small to represent the given value.");let n=e;const r=new Uint8Array(t);for(let i=0;i<r.length;i++)r[i]=Number(BigInt.asUintN(8,n)),n>>=BigInt(8);return r.reverse()}d.signedBigIntToBytes=an;function Ne(e){(0,_.assert)(typeof e=="number","Value must be a number."),(0,_.assert)(e>=0,"Value must be a non-negative number."),(0,_.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return D(t)}d.numberToBytes=Ne;function Oe(e){return(0,_.assert)(typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}d.stringToBytes=Oe;function Te(e){if(typeof e=="bigint")return Ve(e);if(typeof e=="number")return Ne(e);if(typeof e=="string")return e.startsWith("0x")?D(e):Oe(e);if(ie(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}d.valueToBytes=Te;function fn(e){const t=new Array(e.length);let n=0;for(let i=0;i<e.length;i++){const s=Te(e[i]);t[i]=s,n+=s.length}const r=new Uint8Array(n);for(let i=0,s=0;i<t.length;i++)r.set(t[i],s),s+=t[i].length;return r}d.concatBytes=fn;function dn(e){if(typeof ae.Buffer<"u"&&e instanceof ae.Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}d.createDataView=dn;var G={};Object.defineProperty(G,"__esModule",{value:!0});G.ChecksumStruct=void 0;const be=A,ln=U;G.ChecksumStruct=(0,be.size)((0,ln.base64)((0,be.string)(),{paddingRequired:!0}),44,44);var N={};Object.defineProperty(N,"__esModule",{value:!0});N.createHex=N.createBytes=N.createBigInt=N.createNumber=void 0;const y=A,gn=h,Be=d,X=q,Ae=(0,y.union)([(0,y.number)(),(0,y.bigint)(),(0,y.string)(),X.StrictHexStruct]),yn=(0,y.coerce)((0,y.number)(),Ae,Number),bn=(0,y.coerce)((0,y.bigint)(),Ae,BigInt);(0,y.union)([X.StrictHexStruct,(0,y.instance)(Uint8Array)]);const Sn=(0,y.coerce)((0,y.instance)(Uint8Array),(0,y.union)([X.StrictHexStruct]),Be.hexToBytes),mn=(0,y.coerce)(X.StrictHexStruct,(0,y.instance)(Uint8Array),Be.bytesToHex);function pn(e){try{const t=(0,y.create)(e,yn);return(0,gn.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof y.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}N.createNumber=pn;function hn(e){try{return(0,y.create)(e,bn)}catch(t){throw t instanceof y.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}N.createBigInt=hn;function Rn(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return(0,y.create)(e,Sn)}catch(t){throw t instanceof y.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}N.createBytes=Rn;function wn(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return(0,y.create)(e,mn)}catch(t){throw t instanceof y.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}N.createHex=wn;var M={},Pe=V&&V.__classPrivateFieldSet||function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},R=V&&V.__classPrivateFieldGet||function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},$,j;Object.defineProperty(M,"__esModule",{value:!0});M.FrozenSet=M.FrozenMap=void 0;class se{constructor(t){$.set(this,void 0),Pe(this,$,new Map(t),"f"),Object.freeze(this)}get size(){return R(this,$,"f").size}[($=new WeakMap,Symbol.iterator)](){return R(this,$,"f")[Symbol.iterator]()}entries(){return R(this,$,"f").entries()}forEach(t,n){return R(this,$,"f").forEach((r,i,s)=>t.call(n,r,i,this))}get(t){return R(this,$,"f").get(t)}has(t){return R(this,$,"f").has(t)}keys(){return R(this,$,"f").keys()}values(){return R(this,$,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,n])=>`${String(t)} => ${String(n)}`).join(", ")} `:""}}`}}M.FrozenMap=se;class oe{constructor(t){j.set(this,void 0),Pe(this,j,new Set(t),"f"),Object.freeze(this)}get size(){return R(this,j,"f").size}[(j=new WeakMap,Symbol.iterator)](){return R(this,j,"f")[Symbol.iterator]()}entries(){return R(this,j,"f").entries()}forEach(t,n){return R(this,j,"f").forEach((r,i,s)=>t.call(n,r,i,this))}has(t){return R(this,j,"f").has(t)}keys(){return R(this,j,"f").keys()}values(){return R(this,j,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}}M.FrozenSet=oe;Object.freeze(se);Object.freeze(se.prototype);Object.freeze(oe);Object.freeze(oe.prototype);var Me={},ce={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0;function t(o){return Array.isArray(o)&&o.length>0}e.isNonEmptyArray=t;function n(o){return o==null}e.isNullOrUndefined=n;function r(o){return Boolean(o)&&typeof o=="object"&&!Array.isArray(o)}e.isObject=r;const i=(o,l)=>Object.hasOwnProperty.call(o,l);e.hasProperty=i,function(o){o[o.Null=4]="Null",o[o.Comma=1]="Comma",o[o.Wrapper=1]="Wrapper",o[o.True=4]="True",o[o.False=5]="False",o[o.Quote=1]="Quote",o[o.Colon=1]="Colon",o[o.Date=24]="Date"}(e.JsonSize||(e.JsonSize={})),e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(o){if(typeof o!="object"||o===null)return!1;try{let l=o;for(;Object.getPrototypeOf(l)!==null;)l=Object.getPrototypeOf(l);return Object.getPrototypeOf(o)===l}catch{return!1}}e.isPlainObject=s;function c(o){return o.charCodeAt(0)<=127}e.isASCII=c;function u(o){var l;return o.split("").reduce((E,T)=>c(T)?E+1:E+2,0)+((l=o.match(e.ESCAPE_CHARACTERS_REGEXP))!==null&&l!==void 0?l:[]).length}e.calculateStringSize=u;function a(o){return o.toString().length}e.calculateNumberSize=a})(ce);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateJsonAndGetSize=e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.isValidJson=e.JsonStruct=void 0;const t=A,n=h,r=ce;e.JsonStruct=(0,t.define)("Json",f=>{const[S]=ue(f,!0);return S?!0:"Expected a valid JSON-serializable value"});function i(f){return(0,t.is)(f,e.JsonStruct)}e.isValidJson=i,e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()])),e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())}),e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)])),e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct}),e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]);function s(f){return(0,t.is)(f,e.JsonRpcNotificationStruct)}e.isJsonRpcNotification=s;function c(f,S){(0,n.assertStruct)(f,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",S)}e.assertIsJsonRpcNotification=c;function u(f){return(0,t.is)(f,e.JsonRpcRequestStruct)}e.isJsonRpcRequest=u;function a(f,S){(0,n.assertStruct)(f,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",S)}e.assertIsJsonRpcRequest=a,e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]);function o(f){return(0,t.is)(f,e.PendingJsonRpcResponseStruct)}e.isPendingJsonRpcResponse=o;function l(f,S){(0,n.assertStruct)(f,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",S)}e.assertIsPendingJsonRpcResponse=l;function g(f){return(0,t.is)(f,e.JsonRpcResponseStruct)}e.isJsonRpcResponse=g;function E(f,S){(0,n.assertStruct)(f,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",S)}e.assertIsJsonRpcResponse=E;function T(f){return(0,t.is)(f,e.JsonRpcSuccessStruct)}e.isJsonRpcSuccess=T;function Ce(f,S){(0,n.assertStruct)(f,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",S)}e.assertIsJsonRpcSuccess=Ce;function Fe(f){return(0,t.is)(f,e.JsonRpcFailureStruct)}e.isJsonRpcFailure=Fe;function ke(f,S){(0,n.assertStruct)(f,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",S)}e.assertIsJsonRpcFailure=ke;function Ue(f){return(0,t.is)(f,e.JsonRpcErrorStruct)}e.isJsonRpcError=Ue;function qe(f,S){(0,n.assertStruct)(f,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",S)}e.assertIsJsonRpcError=qe;function Le(f){const{permitEmptyString:S,permitFractions:C,permitNull:L}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},f);return w=>Boolean(typeof w=="number"&&(C||Number.isInteger(w))||typeof w=="string"&&(S||w.length>0)||L&&w===null)}e.getJsonRpcIdValidator=Le;function ue(f,S=!1){const C=new Set;function L(m,w){if(m===void 0)return[!1,0];if(m===null)return[!0,w?0:r.JsonSize.Null];const W=typeof m;try{if(W==="function")return[!1,0];if(W==="string"||m instanceof String)return[!0,w?0:(0,r.calculateStringSize)(m)+r.JsonSize.Quote*2];if(W==="boolean"||m instanceof Boolean)return w?[!0,0]:[!0,m==!0?r.JsonSize.True:r.JsonSize.False];if(W==="number"||m instanceof Number)return w?[!0,0]:[!0,(0,r.calculateNumberSize)(m)];if(m instanceof Date)return w?[!0,0]:[!0,isNaN(m.getDate())?r.JsonSize.Null:r.JsonSize.Date+r.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,r.isPlainObject)(m)&&!Array.isArray(m))return[!1,0];if(C.has(m))return[!1,0];C.add(m);try{return[!0,Object.entries(m).reduce((Q,[We,De],Ge,Xe)=>{let[Qe,Ye]=L(De,w);if(!Qe)throw new Error("JSON validation did not pass. Validation process stopped.");if(C.delete(m),w)return 0;const Ze=Array.isArray(m)?0:We.length+r.JsonSize.Comma+r.JsonSize.Colon*2,Ke=Ge<Xe.length-1?r.JsonSize.Comma:0;return Q+Ze+Ye+Ke},w?0:r.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return L(f,S)}e.validateJsonAndGetSize=ue})(Me);var H={},In=V&&V.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(H,"__esModule",{value:!0});H.createModuleLogger=H.createProjectLogger=void 0;const _n=In(tt.exports),En=(0,_n.default)("metamask");function Jn(e){return En.extend(e)}H.createProjectLogger=Jn;function $n(e,t){return e.extend(t)}H.createModuleLogger=$n;var O={};Object.defineProperty(O,"__esModule",{value:!0});O.hexToBigInt=O.hexToNumber=O.bigIntToHex=O.numberToHex=void 0;const P=h,F=q,jn=e=>((0,P.assert)(typeof e=="number","Value must be a number."),(0,P.assert)(e>=0,"Value must be a non-negative number."),(0,P.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,F.add0x)(e.toString(16)));O.numberToHex=jn;const Vn=e=>((0,P.assert)(typeof e=="bigint","Value must be a bigint."),(0,P.assert)(e>=0,"Value must be a non-negative bigint."),(0,F.add0x)(e.toString(16)));O.bigIntToHex=Vn;const Nn=e=>{(0,F.assertIsHexString)(e);const t=parseInt(e,16);return(0,P.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};O.hexToNumber=Nn;const On=e=>((0,F.assertIsHexString)(e),BigInt((0,F.add0x)(e)));O.hexToBigInt=On;var He={};Object.defineProperty(He,"__esModule",{value:!0});var ze={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(e.Duration||(e.Duration={}));const t=s=>Number.isInteger(s)&&s>=0,n=(s,c)=>{if(!t(s))throw new Error(`"${c}" must be a non-negative integer. Received: "${s}".`)};function r(s,c){return n(s,"count"),s*c}e.inMilliseconds=r;function i(s){return n(s,"timestamp"),Date.now()-s}e.timeSince=i})(ze);var ve={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const t=nt,n=A,r=h;e.VersionStruct=(0,n.refine)((0,n.string)(),"Version",g=>(0,t.valid)(g)===null?`Expected SemVer version, got "${g}"`:!0),e.VersionRangeStruct=(0,n.refine)((0,n.string)(),"Version range",g=>(0,t.validRange)(g)===null?`Expected SemVer range, got "${g}"`:!0);function i(g){return(0,n.is)(g,e.VersionStruct)}e.isValidSemVerVersion=i;function s(g){return(0,n.is)(g,e.VersionRangeStruct)}e.isValidSemVerRange=s;function c(g){(0,r.assertStruct)(g,e.VersionStruct)}e.assertIsSemVerVersion=c;function u(g){(0,r.assertStruct)(g,e.VersionRangeStruct)}e.assertIsSemVerRange=u;function a(g,E){return(0,t.gt)(g,E)}e.gtVersion=a;function o(g,E){return(0,t.gtr)(g,E)}e.gtRange=o;function l(g,E){return(0,t.satisfies)(g,E,{includePrerelease:!0})}e.satisfiesVersionRange=l})(ve);(function(e){var t=V&&V.__createBinding||(Object.create?function(r,i,s,c){c===void 0&&(c=s);var u=Object.getOwnPropertyDescriptor(i,s);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,c,u)}:function(r,i,s,c){c===void 0&&(c=s),r[c]=i[s]}),n=V&&V.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(h,e),n(U,e),n(d,e),n(G,e),n(N,e),n(M,e),n(q,e),n(Me,e),n(H,e),n(ce,e),n(O,e),n(He,e),n(ze,e),n(ve,e)})(ot);export{ot as d,Se as s};
