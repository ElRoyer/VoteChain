var B,R;function T(){if(R)return B;R=1;const w="Input must be an string, Buffer or Uint8Array";function g(l){let o;if(l instanceof Uint8Array)o=l;else if(typeof l=="string")o=new TextEncoder().encode(l);else throw new Error(w);return o}function A(l){return Array.prototype.map.call(l,function(o){return(o<16?"0":"")+o.toString(16)}).join("")}function d(l){return(4294967296+l).toString(16).substring(1)}function p(l,o,i){let b=`
`+l+" = ";for(let h=0;h<o.length;h+=2){if(i===32)b+=d(o[h]).toUpperCase(),b+=" ",b+=d(o[h+1]).toUpperCase();else if(i===64)b+=d(o[h+1]).toUpperCase(),b+=d(o[h]).toUpperCase();else throw new Error("Invalid size "+i);h%6===4?b+=`
`+new Array(l.length+4).join(" "):h<o.length-2&&(b+=" ")}console.log(b)}function u(l,o,i){let b=new Date().getTime();const h=new Uint8Array(o);for(let I=0;I<o;I++)h[I]=I%256;const U=new Date().getTime();console.log("Generated random input in "+(U-b)+"ms"),b=U;for(let I=0;I<i;I++){const y=l(h),r=new Date().getTime(),s=r-b;b=r,console.log("Hashed in "+s+"ms: "+y.substring(0,20)+"..."),console.log(Math.round(o/(1<<20)/(s/1e3)*100)/100+" MB PER SECOND")}}return B={normalizeInput:g,toHex:A,debugPrint:p,testSpeed:u},B}var E,_;function j(){if(_)return E;_=1;const w=T();function g(e,a,n){const f=e[a]+e[n];let c=e[a+1]+e[n+1];f>=4294967296&&c++,e[a]=f,e[a+1]=c}function A(e,a,n,f){let c=e[a]+n;n<0&&(c+=4294967296);let k=e[a+1]+f;c>=4294967296&&k++,e[a]=c,e[a+1]=k}function d(e,a){return e[a]^e[a+1]<<8^e[a+2]<<16^e[a+3]<<24}function p(e,a,n,f,c,k){const q=b[c],C=b[c+1],D=b[k],F=b[k+1];g(i,e,a),A(i,e,q,C);let m=i[f]^i[e],x=i[f+1]^i[e+1];i[f]=x,i[f+1]=m,g(i,n,f),m=i[a]^i[n],x=i[a+1]^i[n+1],i[a]=m>>>24^x<<8,i[a+1]=x>>>24^m<<8,g(i,e,a),A(i,e,D,F),m=i[f]^i[e],x=i[f+1]^i[e+1],i[f]=m>>>16^x<<16,i[f+1]=x>>>16^m<<16,g(i,n,f),m=i[a]^i[n],x=i[a+1]^i[n+1],i[a]=x>>>31^m<<1,i[a+1]=m>>>31^x<<1}const u=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],o=new Uint8Array(l.map(function(e){return e*2})),i=new Uint32Array(32),b=new Uint32Array(32);function h(e,a){let n=0;for(n=0;n<16;n++)i[n]=e.h[n],i[n+16]=u[n];for(i[24]=i[24]^e.t,i[25]=i[25]^e.t/4294967296,a&&(i[28]=~i[28],i[29]=~i[29]),n=0;n<32;n++)b[n]=d(e.b,4*n);for(n=0;n<12;n++)p(0,8,16,24,o[n*16+0],o[n*16+1]),p(2,10,18,26,o[n*16+2],o[n*16+3]),p(4,12,20,28,o[n*16+4],o[n*16+5]),p(6,14,22,30,o[n*16+6],o[n*16+7]),p(0,10,20,30,o[n*16+8],o[n*16+9]),p(2,12,22,24,o[n*16+10],o[n*16+11]),p(4,14,16,26,o[n*16+12],o[n*16+13]),p(6,8,18,28,o[n*16+14],o[n*16+15]);for(n=0;n<16;n++)e.h[n]=e.h[n]^i[n]^i[n+16]}const U=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function I(e,a,n,f){if(e===0||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(a&&a.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(n&&n.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(f&&f.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const c={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};U.fill(0),U[0]=e,a&&(U[1]=a.length),U[2]=1,U[3]=1,n&&U.set(n,32),f&&U.set(f,48);for(let k=0;k<16;k++)c.h[k]=u[k]^d(U,k*4);return a&&(y(c,a),c.c=128),c}function y(e,a){for(let n=0;n<a.length;n++)e.c===128&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=a[n]}function r(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;h(e,!0);const a=new Uint8Array(e.outlen);for(let n=0;n<e.outlen;n++)a[n]=e.h[n>>2]>>8*(n&3);return a}function s(e,a,n,f,c){n=n||64,e=w.normalizeInput(e),f&&(f=w.normalizeInput(f)),c&&(c=w.normalizeInput(c));const k=I(n,a,f,c);return y(k,e),r(k)}function t(e,a,n,f,c){const k=s(e,a,n,f,c);return w.toHex(k)}return E={blake2b:s,blake2bHex:t,blake2bInit:I,blake2bUpdate:y,blake2bFinal:r},E}var H,G;function z(){if(G)return H;G=1;const w=T();function g(r,s){return r[s]^r[s+1]<<8^r[s+2]<<16^r[s+3]<<24}function A(r,s,t,e,a,n){l[r]=l[r]+l[s]+a,l[e]=d(l[e]^l[r],16),l[t]=l[t]+l[e],l[s]=d(l[s]^l[t],12),l[r]=l[r]+l[s]+n,l[e]=d(l[e]^l[r],8),l[t]=l[t]+l[e],l[s]=d(l[s]^l[t],7)}function d(r,s){return r>>>s^r<<32-s}const p=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),l=new Uint32Array(16),o=new Uint32Array(16);function i(r,s){let t=0;for(t=0;t<8;t++)l[t]=r.h[t],l[t+8]=p[t];for(l[12]^=r.t,l[13]^=r.t/4294967296,s&&(l[14]=~l[14]),t=0;t<16;t++)o[t]=g(r.b,4*t);for(t=0;t<10;t++)A(0,4,8,12,o[u[t*16+0]],o[u[t*16+1]]),A(1,5,9,13,o[u[t*16+2]],o[u[t*16+3]]),A(2,6,10,14,o[u[t*16+4]],o[u[t*16+5]]),A(3,7,11,15,o[u[t*16+6]],o[u[t*16+7]]),A(0,5,10,15,o[u[t*16+8]],o[u[t*16+9]]),A(1,6,11,12,o[u[t*16+10]],o[u[t*16+11]]),A(2,7,8,13,o[u[t*16+12]],o[u[t*16+13]]),A(3,4,9,14,o[u[t*16+14]],o[u[t*16+15]]);for(t=0;t<8;t++)r.h[t]^=l[t]^l[t+8]}function b(r,s){if(!(r>0&&r<=32))throw new Error("Incorrect output length, should be in [1, 32]");const t=s?s.length:0;if(s&&!(t>0&&t<=32))throw new Error("Incorrect key length, should be in [1, 32]");const e={h:new Uint32Array(p),b:new Uint8Array(64),c:0,t:0,outlen:r};return e.h[0]^=16842752^t<<8^r,t>0&&(h(e,s),e.c=64),e}function h(r,s){for(let t=0;t<s.length;t++)r.c===64&&(r.t+=r.c,i(r,!1),r.c=0),r.b[r.c++]=s[t]}function U(r){for(r.t+=r.c;r.c<64;)r.b[r.c++]=0;i(r,!0);const s=new Uint8Array(r.outlen);for(let t=0;t<r.outlen;t++)s[t]=r.h[t>>2]>>8*(t&3)&255;return s}function I(r,s,t){t=t||32,r=w.normalizeInput(r);const e=b(t,s);return h(e,r),U(e)}function y(r,s,t){const e=I(r,s,t);return w.toHex(e)}return H={blake2s:I,blake2sHex:y,blake2sInit:b,blake2sUpdate:h,blake2sFinal:U},H}var S,M;function P(){if(M)return S;M=1;const w=j(),g=z();return S={blake2b:w.blake2b,blake2bHex:w.blake2bHex,blake2bInit:w.blake2bInit,blake2bUpdate:w.blake2bUpdate,blake2bFinal:w.blake2bFinal,blake2s:g.blake2s,blake2sHex:g.blake2sHex,blake2sInit:g.blake2sInit,blake2sUpdate:g.blake2sUpdate,blake2sFinal:g.blake2sFinal},S}export{P as r};
