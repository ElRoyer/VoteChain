import{r as i}from"./react.bd8c6b34.js";import{f as $,z as _,R as Q}from"./react-remove-scroll-bar.4d4f06e0.js";import{c as q,e as G}from"./use-sidecar.4af1074f.js";import{a as I,F as D,j as E}from"./@emotion.f09edc96.js";import{u as J}from"./use-callback-ref.033c2de3.js";import{s as K}from"./react-style-singleton.a27ddafd.js";var b=function(){return b=Object.assign||function(r){for(var t,a=1,o=arguments.length;a<o;a++){t=arguments[a];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(r[c]=t[c])}return r},b.apply(this,arguments)};function U(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]]);return t}function ee(e,r,t){if(t||arguments.length===2)for(var a=0,o=r.length,c;a<o;a++)(c||!(a in r))&&(c||(c=Array.prototype.slice.call(r,0,a)),c[a]=r[a]);return e.concat(c||Array.prototype.slice.call(r))}var H=q(),M=function(){},N=i.exports.forwardRef(function(e,r){var t=i.exports.useRef(null),a=i.exports.useState({onScrollCapture:M,onWheelCapture:M,onTouchMoveCapture:M}),o=a[0],c=a[1],f=e.forwardProps,u=e.children,g=e.className,S=e.removeScrollBar,C=e.enabled,y=e.shards,w=e.sideCar,p=e.noIsolation,R=e.inert,n=e.allowPinchZoom,l=e.as,v=l===void 0?"div":l,h=U(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),d=w,m=J([t,r]),s=b(b({},h),o);return I(D,{children:[C&&E(d,{sideCar:H,removeScrollBar:S,shards:y,noIsolation:p,inert:R,setCallbacks:c,allowPinchZoom:!!n,lockRef:t}),f?i.exports.cloneElement(i.exports.Children.only(u),b(b({},s),{ref:m})):E(v,{...b({},s,{className:g,ref:m}),children:u})]})});N.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};N.classNames={fullWidth:$,zeroRight:_};var O=!1;if(typeof window<"u")try{var L=Object.defineProperty({},"passive",{get:function(){return O=!0,!0}});window.addEventListener("test",L,L),window.removeEventListener("test",L,L)}catch{O=!1}var x=O?{passive:!1}:!1,re=function(e){return e.tagName==="TEXTAREA"},V=function(e,r){var t=window.getComputedStyle(e);return t[r]!=="hidden"&&!(t.overflowY===t.overflowX&&!re(e)&&t[r]==="visible")},te=function(e){return V(e,"overflowY")},ae=function(e){return V(e,"overflowX")},Y=function(e,r){var t=r;do{typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&(t=t.host);var a=Z(e,t);if(a){var o=F(e,t),c=o[1],f=o[2];if(c>f)return!0}t=t.parentNode}while(t&&t!==document.body);return!1},ne=function(e){var r=e.scrollTop,t=e.scrollHeight,a=e.clientHeight;return[r,t,a]},oe=function(e){var r=e.scrollLeft,t=e.scrollWidth,a=e.clientWidth;return[r,t,a]},Z=function(e,r){return e==="v"?te(r):ae(r)},F=function(e,r){return e==="v"?ne(r):oe(r)},le=function(e,r){return e==="h"&&r==="rtl"?-1:1},ce=function(e,r,t,a,o){var c=le(e,window.getComputedStyle(r).direction),f=c*a,u=t.target,g=r.contains(u),S=!1,C=f>0,y=0,w=0;do{var p=F(e,u),R=p[0],n=p[1],l=p[2],v=n-l-c*R;(R||v)&&Z(e,u)&&(y+=v,w+=R),u=u.parentNode}while(!g&&u!==document.body||g&&(r.contains(u)||r===u));return(C&&(o&&y===0||!o&&f>y)||!C&&(o&&w===0||!o&&-f>w))&&(S=!0),S},T=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},W=function(e){return[e.deltaX,e.deltaY]},A=function(e){return e&&"current"in e?e.current:e},ie=function(e,r){return e[0]===r[0]&&e[1]===r[1]},ue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},se=0,k=[];function fe(e){var r=i.exports.useRef([]),t=i.exports.useRef([0,0]),a=i.exports.useRef(),o=i.exports.useState(se++)[0],c=i.exports.useState(function(){return K()})[0],f=i.exports.useRef(e);i.exports.useEffect(function(){f.current=e},[e]),i.exports.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var n=ee([e.lockRef.current],(e.shards||[]).map(A),!0).filter(Boolean);return n.forEach(function(l){return l.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),n.forEach(function(l){return l.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var u=i.exports.useCallback(function(n,l){if("touches"in n&&n.touches.length===2)return!f.current.allowPinchZoom;var v=T(n),h=t.current,d="deltaX"in n?n.deltaX:h[0]-v[0],m="deltaY"in n?n.deltaY:h[1]-v[1],s,j=n.target,P=Math.abs(d)>Math.abs(m)?"h":"v";if("touches"in n&&P==="h"&&j.type==="range")return!1;var B=Y(P,j);if(!B)return!0;if(B?s=P:(s=P==="v"?"h":"v",B=Y(P,j)),!B)return!1;if(!a.current&&"changedTouches"in n&&(d||m)&&(a.current=s),!s)return!0;var X=a.current||s;return ce(X,l,n,X==="h"?d:m,!0)},[]),g=i.exports.useCallback(function(n){var l=n;if(!(!k.length||k[k.length-1]!==c)){var v="deltaY"in l?W(l):T(l),h=r.current.filter(function(s){return s.name===l.type&&s.target===l.target&&ie(s.delta,v)})[0];if(h&&h.should){l.cancelable&&l.preventDefault();return}if(!h){var d=(f.current.shards||[]).map(A).filter(Boolean).filter(function(s){return s.contains(l.target)}),m=d.length>0?u(l,d[0]):!f.current.noIsolation;m&&l.cancelable&&l.preventDefault()}}},[]),S=i.exports.useCallback(function(n,l,v,h){var d={name:n,delta:l,target:v,should:h};r.current.push(d),setTimeout(function(){r.current=r.current.filter(function(m){return m!==d})},1)},[]),C=i.exports.useCallback(function(n){t.current=T(n),a.current=void 0},[]),y=i.exports.useCallback(function(n){S(n.type,W(n),n.target,u(n,e.lockRef.current))},[]),w=i.exports.useCallback(function(n){S(n.type,T(n),n.target,u(n,e.lockRef.current))},[]);i.exports.useEffect(function(){return k.push(c),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",g,x),document.addEventListener("touchmove",g,x),document.addEventListener("touchstart",C,x),function(){k=k.filter(function(n){return n!==c}),document.removeEventListener("wheel",g,x),document.removeEventListener("touchmove",g,x),document.removeEventListener("touchstart",C,x)}},[]);var p=e.removeScrollBar,R=e.inert;return I(D,{children:[R?E(c,{styles:ue(o)}):null,p?E(Q,{gapMode:"margin"}):null]})}const ve=G(H,fe);var z=i.exports.forwardRef(function(e,r){return E(N,{...b({},e,{ref:r,sideCar:ve})})});z.classNames=N.classNames;const be=z;export{be as $};
